<?php ini_set('memory_limit', '1280M');
 error_reporting(1);  class Wyomind_Ordersexporttool_Model_Profiles extends Mage_Core_Model_Abstract { public $_indexPhp = '';  protected $_filePath;  public $_limit = false;  public $_display = false;  public $_rates = false;  public $_chartset = false;  public $_sqlSize = 1500;  static $option = 0;  public $_billingAddresses = array();  public $_shippingAddresses = array();  public $_payments = array();  public $_invoices = array();  public $_shipments = array();  public $_creditmemos = array();  public $_products = array();  public $_includeStoreId = true;  public $x14 = 1;  public $_counter = array();  public function xc1($myPattern, $order, $x15 = true, $x16 = false) { $x9b="\160\162\145g\137s\160\x6c\x69t";  $x9c="im\160lo\144e";  $x9d="s\x74\162_\162e\x70l\141\143e";  $x9e="u\164\x66\70\137\x65\156\x63o\x64\145";  $x9f="\x70\162\145g\x5fmat\143h_\141\x6c\154";  $xa0="\x70re\x67\137\155\x61\164c\x68";  $xa1="r\x74\162\x69m";  $xa2="is_\x6e\x75l\154";  $xa3="\x73\164\x72\164\x6f\x74\x69\155\145";  $xa4="\x74\162\151\155";  $xa5="is\137\156\165\155\145r\x69\143";  $xa6="\163\x74\x72\x6c\145\156";  $xa7="\x70r\145\147\x5f\x72e\x70\x6c\141c\x65";  $xa8="j\x73o\156\x5f\x64\x65c\157\144\145";  $xa9="s\x74rs\164\x72";  $xaa="\150t\x6d\x6c\145n\164\151tie\x73";  $xab="\150\x74ml_\145\x6et\151t\171\x5f\x64\x65\x63o\x64\145";  $xac="\x69\163\137\x61rr\x61\x79";  $xad="\145xp\x6co\144\x65";  $xae="i\163_\x73\164ri\x6e\x67";  $xaf="t\151\x6de";  $xb0="\154\x6f\147";  $xb1="\160r\x69n\164_r";  $xb2="s\164\162\160\157\163";  $xb3="\x75c\x77or\144\163";  $xb4="\151\x6e\137\141r\x72ay";  $xb5="\151\x73\137bo\157\154";  $xb6="\x73\165\142str";  $xb7="\163\164\162r\x70os";  $xb8="\x73\x74\x72\151\x70_t\x61g\163";  $xb9="h\x74m\x6c\x73\160e\143i\x61lc\x68a\162\163";  $xba="\156\x75m\x62er\137\x66\157\162m\x61t";  $xbb="\155b\137s\164rt\x6f\154\157we\162";  $xbc="\155b\137s\x74r\x74\x6f\x75\x70pe\x72";  $xbd="\x73\165b\163\x74\162\137\143\x6f\x75\156\x74";  $xbe="\x70\x72\145\x67_q\165\157\164\145";  $xbf="v\145\162s\151o\156\x5fco\155p\141\162\x65";  $xc0="a\x72\162\x61y\137\165n\x69\161\165\x65";  if ($x16) { $x17 = $x9b("\57\x0a/", $myPattern);  $x18 = $x17[0];  $x17[0] = null;  $myPattern = $x9c($x17, "\x0a");  } $myPattern = $x9d('<?', $x9e('__PHP__'), $myPattern);  $myPattern = $x9d('?>', $x9e('/__PHP__'), $myPattern);  $x19 = $x9e('#(__PHP__)(.*?)(/\1)#s');  $x9f($x19, $myPattern, $x1a);  if (isset($x1a[1])) { foreach ($x1a[0] as $x1b => $x1c) { if ($x15 == 1) { if (@eval($x1a[2][$x1b] . '; ')) $myPattern = $x9d($x1c, eval($x1a[2][$x1b] . '; '), $myPattern);  else $myPattern = $x9d($x1c, '', $myPattern);  } else { if (@eval($this->unxc7($x1a[2][$x1b] . '; '))) $myPattern = $x9d($x1c, $this->xc7(eval($this->unxc7($x1a[2][$x1b]) . '; ')), $myPattern);  else $myPattern = $x9d($x1c, '', $myPattern);  } } } if ($x16) { if ($x15 == 1) return $x18 . "\x0a" . $myPattern;  else return $x18;  } else return $myPattern;  } public function checkReference($x1d, $order) { $x9b="p\x72\145\147_s\x70\154\151t";  $x9c="\x69\155pl\x6f\144\145";  $x9d="st\162\x5f\162\145p\x6cac\x65";  $x9e="\165\x74\x66\70\137\x65\156c\x6f\144e";  $x9f="\160re\147\x5f\155\x61\164\x63h\137a\x6c\154";  $xa0="\160\162\145\147\137\x6d\141t\143\150";  $xa1="\x72t\x72im";  $xa2="\151s\137\x6e\165l\154";  $xa3="s\x74\x72to\164im\x65";  $xa4="\x74\162i\155";  $xa5="i\x73\x5fnume\162ic";  $xa6="\163\164rle\x6e";  $xa7="p\162\x65g\137\x72\145\x70\x6c\141\x63\145";  $xa8="j\x73\x6fn\x5f\x64\145co\144\145";  $xa9="s\164r\163\x74r";  $xaa="\x68\164mle\156\x74i\x74\151\x65\163";  $xab="\150\164\x6dl\137en\164\151\164\171_d\x65\x63od\145";  $xac="i\x73\x5f\141rr\x61y";  $xad="e\x78\x70l\157d\x65";  $xae="is\137s\164r\x69\x6e\147";  $xaf="\x74\x69m\145";  $xb0="l\157g";  $xb1="p\162\x69\156\x74_\162";  $xb2="\x73\164\162\160\x6f\x73";
 $xb3="\165\143\x77\x6frds";  $xb4="i\x6e_\x61\x72ray";  $xb5="i\x73_\142oo\x6c";  $xb6="\x73\165\142\x73\x74\x72";  $xb7="s\164\x72\x72p\x6f\163";  $xb8="\163\x74\x72\x69\x70_\164\141\147\x73";  $xb9="\150\x74\155\x6cs\160ec\151\141\x6cc\150\141\162s";  $xba="num\x62\x65\x72\x5f\x66\157\162\x6da\x74";  $xbb="\155\x62\137st\162\164\x6f\154\157\167er";  $xbc="\155\142\x5fs\164r\164\x6fu\160\160\x65r";  $xbd="s\165bs\164\162_c\157u\156\x74";  $xbe="pr\145\147_\x71u\157\164e";  $xbf="\x76\x65\x72\x73\x69on\x5fc\157\155\160\141\x72\x65";  $xc0="\141r\162\x61\171\137\x75\156\x69\161\x75\x65";  if ($x1d == "\142ill\x69n\x67" && isset($this->_billingAddresses[$order->getBillingAddressId()])) return $this->_billingAddresses[$order->getBillingAddressId()];  elseif ($x1d == "\163\x68ip\x70\151\x6e\147" && isset($this->_shippingAddresses[$order->getShippingAddressId()])) return $this->_shippingAddresses[$order->getShippingAddressId()];  elseif ($x1d == "\160\x61ym\145\156\164" && isset($this->_payments[$order->getEntityId()])) return $this->_payments[$order->getEntityId()];  elseif ($x1d == "\151nvoice" && isset($this->_invoices[$order->getEntityId()])) return $this->_invoices[$order->getEntityId()];  elseif ($x1d == "\163h\151\x70\155\x65\156\164" && isset($this->_shipments[$order->getEntityId()])) return $this->_shipments[$order->getEntityId()];  elseif ($x1d == "\143r\145\144i\164\x6de\x6d\157" && isset($this->_creditmemos[$order->getEntityId()])) return $this->_creditmemos[$order->getEntityId()];  elseif ($x1d == "pr\x6f\144\165\143\x74" && isset($this->_products[$order->getEntityId()])) return $this->_products[$order->getEntityId()];  elseif ($x1d == null || $x1d == 'order') return array($order);  } protected function _construct() { $x9b="\160r\145\x67_s\160\x6ci\x74";  $x9c="imp\154\x6f\144e";  $x9d="\163t\162\x5f\x72\145pl\141\x63e";  $x9e="\x75\164\x66\70_\x65nc\x6f\144\145";  $x9f="\x70\162\145\x67\x5f\155\141\164\x63\150_al\x6c";  $xa0="\x70\x72eg_\x6da\x74\143h";  $xa1="rt\162i\x6d";  $xa2="\x69\x73\137\156u\154l";  $xa3="\x73t\x72\x74\x6f\x74\x69\x6d\x65";  $xa4="\x74\x72\x69m";  $xa5="\x69\x73\137\x6eu\155\x65\162\x69\x63";  $xa6="s\x74\x72\x6cen";  $xa7="\160\162\x65\147\137\162\145\160\154ac\145";  $xa8="js\157\x6e_\x64\145co\144\145";  $xa9="s\164\x72\x73t\x72";  $xaa="ht\155\x6cent\151\164\151\x65\x73";  $xab="\150\164\x6d\x6c\x5f\145\x6e\x74it\x79\137\x64ec\157de";  $xac="\151s\137\x61\x72\162a\x79";  $xad="\x65\170p\x6co\x64\145";  $xae="\x69\163_\163\164\x72\x69\156\x67";  $xaf="\164im\145";  $xb0="\x6co\147";  $xb1="print\137r";  $xb2="s\164\x72p\157\x73";  $xb3="u\x63\x77\x6fr\144s";  $xb4="\x69n\137\x61\162\x72\x61\x79";  $xb5="\151\x73\137\x62o\157\x6c";  $xb6="subs\x74r";  $xb7="\163tr\x72p\x6f\163";  $xb8="s\164\162\x69\160_\x74a\x67\163";  $xb9="ht\155\154s\160ec\x69\141lch\141\x72\163";  $xba="\156\165\155b\x65\162\137\146\157r\x6dat";  $xbb="\155\x62\137\x73t\x72\x74\x6fl\x6f\x77\x65r";  $xbc="\x6d\x62\137\163tr\x74\x6fu\x70p\x65\162";  $xbd="\x73ubs\164\162\x5f\x63\157u\x6et";  $xbe="pre\x67\x5f\161\x75\157t\145";  $xbf="\x76e\162\163\151\157\x6e\137\x63\157\155\x70\141r\145";  $xc0="\141\x72\x72\x61\x79_\x75\x6e\151\x71\x75\x65";  $this->_sqlSize = Mage::getStoreConfig("\x6f\162d\x65\x72s\145\x78\x70\157r\164t\x6f\x6fl\57\163\171\x73\164\145\x6d\x2f\163\x71\x6c\x73\151z\145");  $this->_init('ordersexporttool/profiles');  } protected function _beforeSave() { $x9b="\x70\162\x65g_\x73\x70\x6cit";  $x9c="\x69\155\x70lo\144\x65";  $x9d="s\x74\162_\x72e\x70\x6ca\x63e";  $x9e="u\164f\70\x5f\x65nc\x6f\x64e";  $x9f="\x70re\147\x5fm\x61t\x63\150_\x61ll";  $xa0="\160\162e\147\137\x6d\x61\164c\x68";  $xa1="\162\x74\x72\x69\x6d";  $xa2="\x69\x73\137null";  $xa3="s\x74r\x74\157\164\151\x6d\x65";  $xa4="\x74r\x69\155";  $xa5="\151\x73_n\x75m\x65\x72\x69\143";  $xa6="\x73\x74r\154e\156";  $xa7="\160r\145\147_r\x65\x70\x6c\141\143\x65";  $xa8="\152\163on_deco\x64\x65";  $xa9="s\164\162s\x74\x72";  $xaa="ht\155l\145\x6e\164\x69\x74i\145s";  $xab="\x68t\x6dl\137e\156\x74\151\164\x79\137de\x63\x6fd\145";  $xac="\x69\163\137a\162r\x61y";  $xad="\x65\170\160\154\x6fd\x65";  $xae="\x69\163_\x73\x74ring";  $xaf="\164\151m\145";  $xb0="l\157\x67";  $xb1="\x70\x72\151\x6e\164\137\x72";  $xb2="\x73\164rpos";  $xb3="u\x63\x77\x6fr\x64\163";  $xb4="i\x6e\137a\162r\141\x79";  $xb5="is\x5fbool";  $xb6="\x73\x75b\163\164\162";  $xb7="\163\164\162\x72\160\157\163";  $xb8="\x73t\x72ip\137\164\141\147\x73";  $xb9="\150\x74mlsp\145\143\x69a\154c\150\x61\162s";  $xba="nu\155\x62\145r\x5f\146\157\x72\x6d\x61\164";  $xbb="\155\x62_s\x74rto\154\x6f\x77\x65r";  $xbc="m\142\x5f\x73\164rto\x75\x70\160\x65r";  $xbd="\x73\x75b\163\164\162_\143\x6fu\x6et";  $xbe="pr\x65g_\x71u\157\x74\x65";  $xbf="v\x65rs\x69\x6f\156\x5fc\157\x6dp\x61r\x65";  $xc0="a\x72\162a\171\137u\x6eiq\x75e";
 $x1e = new Varien_Io_File();  $x1f = $x1e->getCleanPath(Mage::getBaseDir() . '/' . $this->getFilePath());  if (!$x1e->allowedPath($x1f, Mage::getBaseDir())) { Mage::throwException(Mage::helper('ordersexporttool')->__('Please define correct path'));  } if (!$x1e->fileExists($x1f, false)) { Mage::throwException(Mage::helper('ordersexporttool')->__('Please create the specified folder "%s" before saving the export file profile.', Mage::helper('core')->htmlEscape($this->getFilePath())));  } if (!$x1e->isWriteable($x1f)) { Mage::throwException(Mage::helper('ordersexporttool')->__('Please make sure that "%s" is writable by web-server.', $this->getFilePath()));  } if (!$xa0('#^[a-zA-Z0-9_\.\-/\s]+$#', $this->xc2())) { Mage::throwException(Mage::helper('ordersexporttool')->__('Please use only letters (a-z or A-Z), numbers (0-9) or underscore (_) in the filename. No spaces or other characters are allowed.'));  } $this->setFilePath($xa1($x9d($x9d('\\', '/', Mage::getBaseDir()), '', $x1f), '/') . '/');  return parent::_beforeSave();  } protected function getPath() { $x9b="\160\162\x65\147\137\x73\160\x6c\x69\164";  $x9c="\151\x6d\160\x6c\157\x64\x65";  $x9d="\163\x74r\137r\145\x70\x6c\x61\143e";  $x9e="u\164f\70\137enc\157\x64\145";  $x9f="\160\x72eg\137\x6da\x74\x63h\137\141l\x6c";  $xa0="\160\162\145\147\137m\141\164\143\150";  $xa1="r\164\162im";  $xa2="\151\x73\x5fn\x75\x6c\154";  $xa3="\x73\x74\162\164\x6f\x74\x69m\145";  $xa4="\164\x72i\x6d";  $xa5="is\137\156\x75\x6d\x65\162\151\x63";  $xa6="\163\x74\162\154e\156";  $xa7="p\x72eg_\162ep\154a\x63e";  $xa8="\x6a\x73\x6fn_\144\x65\x63o\144\145";  $xa9="\x73t\x72\x73\x74\162";  $xaa="\x68t\155\x6c\145\x6e\x74i\x74i\145\x73";  $xab="\x68\164\x6d\154\137e\156\x74\x69\164y_\x64\x65\143\x6f\144\145";  $xac="i\163\x5f\x61rr\x61y";  $xad="e\170p\x6c\157\x64e";  $xae="i\163\x5f\163t\x72i\x6e\x67";  $xaf="\164\151\x6d\x65";  $xb0="\154\157\147";  $xb1="\x70\x72i\x6et_\162";  $xb2="\163\164\x72\x70os";  $xb3="\165\143\167o\162\x64s";  $xb4="in\x5fa\162\162\x61\171";  $xb5="\x69s\x5f\x62o\x6f\154";  $xb6="\163u\x62\x73\164\x72";  $xb7="\163\x74rrp\x6fs";  $xb8="\163\164\162\x69\x70\137\x74a\x67\163";  $xb9="\x68\x74\x6d\154\163p\145\x63\151\141\154\143h\141r\x73";  $xba="\156umb\145\x72\x5ff\157\162\155\141\x74";  $xbb="m\x62\137s\x74r\164\x6f\154o\167e\x72";  $xbc="\x6d\142_s\164\162\164\157\x75\x70\160\145r";  $xbd="\x73\x75\142s\164\x72_c\x6funt";  $xbe="p\x72\145\147\x5f\161\165o\x74\145";  $xbf="\166\145\x72si\x6f\156\137\x63\157\155\160\x61\x72e";  $xc0="array\137\165niqu\145";  if ($xa2($this->_filePath)) { $this->_filePath = $x9d('//', '/', Mage::getBaseDir() . $this->getFilePath());  } return $this->_filePath;  } protected function xc2($x20 = '.temp', $x21 = null) { $x9b="\160r\145g\x5f\x73plit";  $x9c="\x69\155plo\144e";  $x9d="\x73\x74r_r\145\160\154a\143\x65";  $x9e="u\164\146\70\x5f\x65\x6ec\x6f\x64e";  $x9f="\x70r\145\147\x5f\155\x61\x74c\x68\137al\x6c";  $xa0="\160\x72eg\x5f\155\x61\x74ch";  $xa1="\162\x74r\x69\155";  $xa2="i\x73\137n\165\x6c\x6c";  $xa3="s\x74\162\164\157t\x69\x6d\x65";  $xa4="t\162\x69\155";  $xa5="\151\163_n\165\155\x65r\151\143";  $xa6="\x73\164\162l\x65n";  $xa7="p\162e\x67\x5f\162\145\x70\154a\x63\145";  $xa8="\x6a\163\x6fn_d\145\143\157d\x65";  $xa9="s\x74\x72\x73\164\x72";  $xaa="\150\164\x6d\x6c\145\156\x74it\151\145s";  $xab="ht\x6d\x6c_e\x6e\164\151\164y\137\144e\143od\x65";  $xac="\x69\163_\x61\162\162\141y";  $xad="\x65\170\x70\154\157\x64\x65";  $xae="\151\x73_\163\x74\162\x69n\147";  $xaf="\164\151\x6d\x65";  $xb0="\x6c\x6f\147";  $xb1="\160\162\151nt_\162";  $xb2="st\x72\x70\157\163";  $xb3="\x75\143\x77\x6f\162\144\163";  $xb4="in\137\141\x72r\141\171";  $xb5="\x69\163_\142\x6f\157\x6c";  $xb6="s\x75\142st\162";  $xb7="s\x74\x72rp\x6f\x73";  $xb8="\x73tr\x69\160\x5f\164ag\x73";  $xb9="\x68tm\x6c\163p\145\143\151\141\x6c\143\150a\x72\163";  $xba="nu\155\x62\x65\162_fo\x72m\141t";  $xbb="\155\142\x5f\163\x74\x72to\154\x6f\167\x65\162";  $xbc="\x6d\142\137\x73\x74\x72\x74\157\165\x70\x70\x65r";  $xbd="s\165b\x73\x74\x72_\x63o\x75\156\164";  $xbe="\x70\x72eg\x5f\x71u\157\164e";  $xbf="ve\x72\x73\x69\x6f\x6e\137\x63\x6fm\x70\141\x72\145";  $xc0="\x61\162\x72\141y\137\165\x6e\x69\x71\x75\145";  $x22 = array(1 => 'xml', 2 => 'txt', 3 => 'csv', 4 => 'tsv', 5 => 'din');  if ($this->_date == false) { $this->_updated = Mage::getSingleton('core/date')->gmtDate("Y\55\x6d-\144\x20\x48:\x69:\163", $this->_timestamp);  $this->_date = Mage::getSingleton('core/date')->date($this->getFileDateFormat(), $xa3($this->_updated));  } $x23 = $x9d('{f}', $this->getFileName(), $this->_date);  return $x23 . $x21 . "." . $x22[$this->getFileType()] . $x20;  } public function xc3() { $x9b="pr\x65g\137sp\154\x69\x74";  $x9c="im\160lo\144\x65";  $x9d="st\162\137\x72e\160\154\x61\143e";  $x9e="\165t\x66\70\137\145\x6e\x63\x6f\x64\x65";  $x9f="p\x72\145\147\x5fm\141t\143\150\137\141\x6c\x6c";  $xa0="\160r\145g\x5f\x6datch";  $xa1="\x72\x74r\151\155";  $xa2="\x69s\x5f\156\x75\154\154";  $xa3="\x73\x74\x72\164ot\x69me";
 $xa4="\164r\151\155";  $xa5="\x69\163\x5fn\165\x6d\x65r\x69\143";  $xa6="\x73\x74\x72\x6c\145\x6e";  $xa7="pr\x65g\x5fr\145pl\x61c\145";  $xa8="\x6a\x73\x6f\x6e_\x64\x65\x63\x6f\x64e";  $xa9="\x73\164r\163t\x72";  $xaa="h\x74ml\145\156t\x69\x74\151\x65\163";  $xab="\150t\155l_e\156tit\x79_d\145\143\157d\x65";  $xac="i\163\x5f\141\x72\162\x61\x79";  $xad="e\x78\160l\157\x64e";  $xae="\x69s\137s\x74\x72\151\x6e\147";  $xaf="\x74ime";  $xb0="\154og";  $xb1="\x70\x72\x69\156\164_\162";  $xb2="\163\164r\x70\157\x73";  $xb3="\x75\x63\x77\x6f\162\x64\x73";  $xb4="i\156\x5f\141rr\141\171";  $xb5="\151\x73\137\142\157\157\x6c";  $xb6="\x73\x75bst\162";  $xb7="s\164r\x72\160\x6f\x73";  $xb8="\x73\x74\162i\160_\164\141gs";  $xb9="h\x74m\154\163\x70\x65c\x69\141\154c\x68ar\163";  $xba="\156\x75\x6d\142\145\x72_\x66\x6f\x72m\141\164";  $xbb="m\x62\137s\x74\x72\164\157\x6c\x6f\167e\162";  $xbc="\155\x62\137\163\164\x72to\165\x70\x70\x65\162";  $xbd="\x73\165\x62s\x74r\x5fco\x75\x6e\x74";  $xbe="\160\x72\145\x67\x5fqu\x6f\164\145";  $xbf="\166\145\x72\163\x69\157\156\137com\x70\141\x72\x65";  $xc0="array\x5f\165\x6e\151q\x75\145";  return $this->getPath() . $this->xc2();  } public function xc4($x24, $x25 = true) { $x9b="p\x72e\x67_\163\x70\154\151t";  $x9c="im\160\154o\144\x65";  $x9d="s\164r_\162ep\154\141\x63\x65";  $x9e="\165\x74f\70\x5f\145n\x63\157\x64\145";  $x9f="p\162\x65g\x5f\155\141t\x63h_a\154\154";  $xa0="\160\162\145\x67\x5f\155\x61\164ch";  $xa1="r\164\162im";  $xa2="i\163_\x6e\165l\154";  $xa3="\x73\164\162\164\x6f\x74\x69me";  $xa4="\164\x72\x69\155";  $xa5="\151s_n\165m\145r\151\143";  $xa6="s\x74rl\x65\x6e";  $xa7="pr\145\x67\x5fr\x65\160\x6ca\x63e";  $xa8="\x6a\163\157\156\137\x64\145c\x6fde";  $xa9="\163\164r\163\x74r";  $xaa="h\164\155lentit\151es";  $xab="\150\164m\x6c_\x65\156\x74\151\164\x79\137\144\145c\x6f\x64\x65";  $xac="\x69\x73\137\141r\162\x61y";  $xad="\x65\x78\x70\x6code";  $xae="is_\x73\164r\151n\x67";  $xaf="\x74\151m\x65";  $xb0="\154o\x67";  $xb1="\160\x72i\x6et\137\162";  $xb2="\163tr\160o\163";  $xb3="\x75c\x77\x6f\162\x64\163";  $xb4="\151n\137\141\x72r\x61\171";  $xb5="\151\x73\137\x62\157\157\154";  $xb6="\x73ubs\164r";  $xb7="\163\164\x72\162\x70\157s";  $xb8="\163t\162ip\x5f\164\x61gs";  $xb9="\150\164\x6dl\163\160\145\x63i\x61l\143\150\141rs";  $xba="n\165m\142\145\162\137f\157\x72ma\x74";  $xbb="mb_\163trt\x6f\x6c\x6fw\x65r";  $xbc="\155b\137\163\164\162\x74\157\x75\160\x70\145\x72";  $xbd="\163u\x62\163\x74\x72\x5fc\157u\156\164";  $xbe="\x70\162\145\x67\137\161\165\x6f\x74\x65";  $xbf="v\145\x72\163\151\157\156\x5fc\x6fmp\141r\x65";  $xc0="a\162\162ay_u\156\x69\x71u\145";  $x19 = '/(<[^>^\/]+>)([^<]*)(<\/[^>]+>)/s';  $x9f($x19, $x24, $x1a);  foreach ($x1a[1] as $x1b => $value) { $x26 = $xa4($x1a[2][$x1b]);  if (empty($x26) && !$xa5($x26)) $x24 = ($x24);  else { if ($x25) $x24 = $x9d($x1a[0][$x1b], ($x1a[1][$x1b]) . '<![CDATA[' . $x26 . ']]>' . ($x1a[3][$x1b]), $x24);  else { $x24 = $x9d($x1a[0][$x1b], ($x1a[1][$x1b]) . $x26 . ($x1a[3][$x1b]), $x24);  } } } $x27 = $x9b("/\x0a\57s", $x24);  $x28 = '';  foreach ($x27 as $x29) { ($xa6($xa4($x29)) > 0) ? $x28.=$x29 . "\x0a" : false;  } $x24 = $x28;  return $x24;  } public function xc5($x19, $x16 = false) { $x9b="p\x72\145g\x5f\x73p\154i\164";  $x9c="\x69m\x70\154\157\x64\x65";  $x9d="\163\x74r_\162\145p\x6c\141\x63\145";  $x9e="\165\x74f\70\x5f\145\156c\157\144e";  $x9f="\x70\x72\x65\147\x5f\155a\164ch\x5fal\x6c";  $xa0="\160\162\x65g_\155\x61\x74\143\x68";  $xa1="\162t\162\151\155";  $xa2="\x69\x73\137\156\165l\154";  $xa3="st\x72\164o\x74\151\155\x65";  $xa4="\x74r\x69\x6d";  $xa5="\151\163\137n\x75\155\145\x72\x69c";  $xa6="\163\164\x72\x6cen";  $xa7="\x70\x72\145\x67\x5f\x72e\160l\x61c\x65";  $xa8="\x6a\x73\x6fn_\144\145c\x6f\x64\x65";  $xa9="\163\x74rs\x74r";  $xaa="\150t\x6dl\145\x6etit\151e\x73";  $xab="\x68t\x6d\x6c_en\164\151\164\171\137de\143\157de";  $xac="\x69\x73_\141r\162\141y";  $xad="\x65\170\x70\x6c\157\144e";  $xae="i\163_\163\x74\x72ing";  $xaf="\164\151m\x65";
 $xb0="l\157\x67";  $xb1="\x70ri\156t\137\x72";  $xb2="\163trpo\x73";  $xb3="\x75\143wo\162\144s";  $xb4="\151\x6e_\x61r\x72\x61y";  $xb5="\x69\163_\x62\x6fol";  $xb6="s\165\x62\163\x74r";  $xb7="\x73tr\162\160o\163";  $xb8="s\x74\x72\x69\160_\164\x61\x67\163";  $xb9="\x68\x74\x6d\x6c\163\x70\x65\143\x69\141\154\143\150\x61r\x73";  $xba="\x6e\165\155be\x72\x5ff\157\162m\x61t";  $xbb="\x6db_\163t\x72to\x6c\x6fw\145r";  $xbc="\155b_\x73tr\164\157u\x70p\x65\x72";  $xbd="\x73u\x62\x73\164\x72_\143\157\165\156\164";  $xbe="\160\162e\147_\161uo\164e";  $xbf="\166\x65\162\x73\x69on\137co\x6d\x70\x61r\x65";  $xc0="\x61\x72r\141y\137\x75\156\x69\161\165e";  $x19 = $xa7('/(\r\n|\n|\r|\r\n)/s', '', $x19);  $x2a = 'padding:2px;  border:1px solid grey;  text-align:center; padding:5px;  min-width:10px; min-height:10px; ';  $x19 = "[" . $x19 . "\x5d";  $x2b = $xa8($x19);  $x2c = null;  foreach ($x2b as $x29) { $x2d = null;  $x2e = null;  $x2f = 0;  if (isset($x29->header)) $x30 = $x29->header;  else { $x30 = $x29->order;  } if ($x16) { $x2c .= "\x3c\164\162 sty\154e\x3d\47\142\x61c\x6b\147\x72\x6f\x75\x6e\144-\143\x6f\x6c\x6f\x72:\x67re\x79\x3b\40\x63\x6f\x6c\x6fr\x3a\167\x68\151\164\x65;  \146o\x6et\55w\x65\151\x67\150t:\142\157ld'\x3e";  } else { $x2c .= "<\x74\162\x3e";  } if ($this->_incrementialColumn) { if ($x16) $x2c.="<\164\144\x20s\x74\x79le='" . $x2a . "'\76" . $this->_incrementialColumnName . "\x3c/\164d>";  else $x2c.="<\164\144\x20s\x74\x79le='" . $x2a . "'\76" . $this->_inc++ . "\x3c/\164d>";  } foreach ($x30 as $x1b => $value) { if ($x2f) $x2f++;  ($value != null) ? $x31 = $value : $x31 = "\x3cs\160\x61\156\x20\x73t\x79l\145\x3d'f\157n\164\55\163i\172\x65\72\61\x30\160x; \x63\x6f\154o\x72\72\147\162\x65\171\47\x3e(\145\155p\164\x79\51\x3c/s\160\141\x6e>";  if ($xa9($value, "/\142\x72e\141\153\x6ci\156\145\57")) { $x2c.= "</\164\162\76\74\164r\x3e";  $x31 = $x9d("/\142\x72e\141\153\x6ci\156\145\57", "", $x31);  $x2f = 1;  } if ($xa9($value, "/\150\x65ad\154in\x65\x2f")) { if (!isset($x29->header)) $x2e.="<\164\144\x20s\x74\x79le='" . $x2a . "'\76" . $x9d("/\150\x65ad\154in\x65\x2f", null, $x31) . "\x3c/\164d>";  else $x2e.=null;  } elseif ($xa9($value, "/\x62a\x73\x65\x6c\x69\156e\57")) { if (!isset($x29->header)) $x2d.="<\164\144\x20s\x74\x79le='" . $x2a . "'\76" . $x9d("/\x62a\x73\x65\x6c\x69\156e\57", null, $x31) . "\x3c/\164d>";  else $x2d.=null;  } else $x2c.="<\164\144\x20s\x74\x79le='" . $x2a . "'\76" . $x31 . "\x3c/\164d>";  } $x2c.="</\x74r>";  } if ($x2e != null) $x2c = "<\x74\162\x3e" . $x2e . "</\x74r>" . $x2c;  elseif ($x2d != null) $x2c.="<\x74\162\x3e" . $x2d . "</\x74r>";  return $x2c;  } public function xc6($x19, $x32, $x33, $x34 = true) { $x9b="\160\x72\x65\147_\163pli\164";  $x9c="\151\x6d\160\154\x6f\144e";  $x9d="str\x5f\162\145p\x6c\141\x63\x65";  $x9e="\x75\164\x66\70_\145\x6e\x63\157\144\x65";  $x9f="\x70\x72eg\137\x6d\x61\164c\x68\x5f\141l\154";  $xa0="\x70\x72\x65\x67_\155\141tc\150";  $xa1="\162\164rim";  $xa2="\151s\x5f\156\165l\x6c";  $xa3="s\x74\162\164\x6ftim\x65";  $xa4="t\x72\151\x6d";  $xa5="is\137\156\165\x6d\x65\x72i\x63";  $xa6="s\164r\x6ce\156";  $xa7="pr\x65g\137\162\x65\x70\154\x61\143\145";  $xa8="\x6as\157n\137\x64\145\x63\157d\145";  $xa9="\163t\162st\162";  $xaa="h\x74\x6dl\x65\x6e\x74i\164\151\145\163";  $xab="\x68t\155l\137\145\156\164it\x79_\x64\145\143\157\x64\x65";  $xac="i\x73\137arr\x61\x79";  $xad="\145\170\160l\x6f\144e";  $xae="\151\163\x5f\x73\x74r\x69ng";  $xaf="ti\x6d\145";  $xb0="\x6c\157\147";  $xb1="p\162\x69n\x74_\x72";  $xb2="\x73\x74rp\x6fs";  $xb3="\165c\167o\x72\144\x73";  $xb4="i\156_\141\162\162ay";  $xb5="i\x73\137\142o\157\154";  $xb6="s\x75b\x73\164\162";  $xb7="\x73t\162\162\160o\163";  $xb8="s\164\162\151\x70\x5ft\141g\163";  $xb9="\150\164ml\x73\160\x65c\151\141\154c\x68\x61rs";  $xba="\156\165\155\142\x65\x72_\146\157rm\141\x74";  $xbb="mb\137\163t\162\164\x6fl\157w\x65\x72";  $xbc="\155\142\x5f\163\x74rt\157\x75p\160e\162";  $xbd="\x73\165\142\163t\x72\137\143\157\x75\x6e\x74";  $xbe="\160r\145\x67\x5f\161u\157t\145";  $xbf="\166\145\x72\x73i\x6f\156\137c\157\x6d\x70\x61\x72\145";  $xc0="\141r\x72\141y\137\x75\156i\x71\165\145";  $x19 = $xa7('/(\r\n|\n|\r|\r\n)/s', '', $x19);  $x19 = "[" . $x19 . "\x5d";  $x2b = $xa8($x19);  $x29 = null;  $x35 = 0;  foreach ($x2b as $x30) { $x36 = false;  $x2d = null;  $x2e = null;  $x2f = 0;
 if ($x34 || $x35 > 0) $x29 .= "\x0d\x0a";  if ($x32 == '\t') $x32 = "\t";  if (isset($x30->header)) { $x30 = $x30->header;  $x37 = true;  if ($this->_incrementialColumn) $x29.=$x33 . $this->xc7($this->_incrementialColumnName, $x33) . $x33 . $x32;  } else { if (!$xa8($x19)) return "";  $x30 = $x30->order;  $x37 = false;  if ($this->_incrementialColumn) $x29.= $this->_inc++ . $x32;  } $x38 = 0;  foreach ($x30 as $x1b => $value) { if ($x2f > 0) $x2f = 2;  if ($xa9($value, "/\142\x72e\141\153\x6ci\156\145\57")) $x2f = 1;  if ($x38 > 0 && $x2f < 2) { if ($xa9($value, "/\150\x65ad\154in\x65\x2f")) { if (!$x37 && $x2e != null) $x2e.=$x32;  else $x2e.=null;  } elseif ($xa9($value, "/\x62a\x73\x65\x6c\x69\156e\57")) { if (!$x37 && $x2d != null) $x2d.=$x32;  else $x2d.=null;  } else if (($x36)) $x29.=$x32;  } if ($x2f > 1) $x2f = 0;  if ($x33 != "") { if ($xa9($value, "/\150\x65ad\154in\x65\x2f")) if (!$x37) { $x2e.=$x33 . $this->xc7($x9d("/\150\x65ad\154in\x65\x2f", "", $value), $x33) . $x33;  } else $x2e.=null;  elseif ($xa9($value, "/\x62a\x73\x65\x6c\x69\156e\57")) if (!$x37) $x2d.=$x33 . $this->xc7($x9d("/\x62a\x73\x65\x6c\x69\156e\57", "", $value), $x33) . $x33;  else $x2d.=null;  else { $x36 = true;  $x29.=$x33 . $this->xc7($x9d("/\142\x72e\141\153\x6ci\156\145\57", "", $value), $x33) . $x33;  } if ($xa9($value, "/\142\x72e\141\153\x6ci\156\145\57")) { $x29 .= "\x0d\x0a";  } } else { $value = $x9d("/\142\x72e\141\153\x6ci\156\145\57", "\x0d\x0a", $value);  if ($xa9($value, "/\150\x65ad\154in\x65\x2f")) { if (!$x37) { $x2e.=$this->xc7($x9d("/\150\x65ad\154in\x65\x2f", "", $value), $x32);  } else $x2e.=null;  } elseif ($xa9($value, "/\x62a\x73\x65\x6c\x69\156e\57")) { if (!$x37) $x2d.=$this->xc7($x9d("/\x62a\x73\x65\x6c\x69\156e\57", "", $value), $x32);  else $x2d.=null;  } else { $x29.= $this->xc7($value, $x32);  $x36 = true;  } } $x38++;  } if ($x32 == "[|\x5d") $x29.="\x5b\x3a\x5d";  $x35++;  } if ($x2e != null) { $x29 = $x2e . "\x0d\x0a" . $x29 . "\x0d\x0a";  $x29 = $x9d("\x0d\x0a\x0d\x0a", "\x0d\x0a", $x29);  } elseif ($x2d != null) $x29.="\x0d\x0a" . $x2d;  return $x29;  } public function xc7($x19, $x39 = '"') { $x9b="\x70\x72\145\147\137sp\154\151\x74";  $x9c="\x69\x6dpl\157\x64e";  $x9d="\163\164\x72\x5frep\x6ca\143\x65";  $x9e="\x75\x74\146\70\x5f\x65\x6ecod\145";  $x9f="\160\162e\147_\155\141\x74\143\x68\137\x61\x6cl";  $xa0="\x70\x72e\x67_\x6d\x61t\143h";  $xa1="\x72\164r\x69\x6d";  $xa2="is_\156\165\x6c\x6c";  $xa3="st\162\164o\x74i\x6de";  $xa4="t\x72i\x6d";  $xa5="\x69\x73\137n\165\x6d\x65r\x69\x63";  $xa6="\x73\x74\x72le\156";  $xa7="\x70r\x65g\x5fre\160\154a\x63\145";  $xa8="\x6a\x73\157\x6e\x5fd\x65\143\x6f\144\145";  $xa9="\163tr\163tr";  $xaa="\x68\x74\x6d\x6c\145n\164\151ties";  $xab="\x68\164m\x6c_\x65\x6e\164\151ty_\x64\x65\143od\x65";  $xac="\151\x73\137\141\x72r\141y";  $xad="\x65\170p\x6c\x6fd\145";  $xae="i\x73\137\x73\x74\x72\151\x6eg";  $xaf="\x74\x69\x6de";  $xb0="\x6cog";  $xb1="pr\151\156\x74\137r";  $xb2="st\x72\160o\163";  $xb3="\165\143\x77\157\x72\x64s";  $xb4="\x69\156_\x61r\x72\x61\171";  $xb5="\x69\x73\137boo\x6c";  $xb6="s\x75\x62st\162";  $xb7="\x73trr\160\x6f\x73";  $xb8="\163\164r\151p_tag\x73";  $xb9="\x68t\x6d\154s\x70\x65c\x69\141\x6cc\x68a\x72\x73";  $xba="\156u\155b\x65r\x5f\x66\157rm\141t";  $xbb="m\142_\163\164\x72\164o\154\157we\162";  $xbc="\155\x62\x5fs\164r\164o\165pp\145r";  $xbd="\163\165\142s\x74\162\x5f\x63ou\x6e\164";  $xbe="\160re\147\137\x71uo\164\145";  $xbf="\x76\145\x72\x73ion\137\143\x6f\x6d\x70\x61\162\145";  $xc0="\141\162\162\141\171_\x75\156\151\161ue";  $x19 = $x9d($x39, '\\' . $x39, $x19);  return $x19;  } public function unxc7($x19, $x39 = '"') { $x9b="\x70r\145g\x5fsp\x6cit";  $x9c="\x69\155\160\154\157\144\145";  $x9d="\x73\x74\x72\137r\145\x70\154\141\143\x65";  $x9e="\x75\164\x66\70\137\x65\156\x63\157\144\x65";  $x9f="\160\162eg_\155\x61\164ch\137\x61ll";  $xa0="p\x72e\147_\155\141tch";  $xa1="\x72\x74\162\151\155";  $xa2="i\163\x5f\x6e\165ll";  $xa3="s\x74\162toti\155\145";  $xa4="tr\151\x6d";  $xa5="\151\x73_\x6e\x75\155\145\x72ic";  $xa6="st\162\x6ce\x6e";  $xa7="\x70r\x65\x67\x5frepl\x61\143\145";  $xa8="j\x73o\156\x5f\144e\143\x6f\x64\145";  $xa9="s\x74\162\163tr";  $xaa="\150tm\x6c\x65\x6e\164it\x69e\x73";  $xab="h\164\x6d\x6c\x5f\145\x6et\151ty_\x64eco\x64e";  $xac="\151s_\141\x72r\141\171";  $xad="e\170p\154\157\144\x65";  $xae="i\163\x5f\163tri\156g";  $xaf="\164i\155\145";
 $xb0="lo\x67";  $xb1="\160\162in\164_\162";  $xb2="s\164r\160\x6f\163";  $xb3="\x75\x63\x77o\162\144s";  $xb4="\151\x6e\137\x61r\x72\141\x79";  $xb5="\x69\163\137\142o\157\154";  $xb6="\x73\x75b\x73tr";  $xb7="st\x72\x72\x70\157s";  $xb8="\163t\162i\x70_\x74\x61\x67s";  $xb9="\150\164\x6dls\x70\145\143\151a\154\143\150\x61\162\163";  $xba="\156\165\155b\x65\x72_f\x6f\x72m\x61\164";  $xbb="\x6d\x62_\163\x74r\164\157\x6cow\x65\162";  $xbc="\x6d\142\137s\x74r\x74\157u\160\160e\x72";  $xbd="\163\x75\x62s\164\x72_\x63o\x75n\164";  $xbe="\160\x72\x65\147\137\161uo\x74\145";  $xbf="\x76\x65\162\163\x69o\x6e_\x63om\x70\141\162\x65";  $xc0="\141\162\x72a\171\137\165niq\x75\145";  $x19 = $x9d('\\' . $x39, $x39, $x19);  return $x19;  } public function xc9($x3a) { $x9b="\160\x72\145g\x5fs\x70li\x74";  $x9c="im\x70\154o\x64\x65";  $x9d="\x73\164r_\162\145\160\x6ca\x63e";  $x9e="\165\164\x66\70\x5f\145nc\157d\x65";  $x9f="\160\162\145\x67\137\155a\x74ch\137\x61\154\x6c";  $xa0="p\x72e\x67_ma\164\x63\x68";  $xa1="rt\x72i\155";  $xa2="is_\156\x75ll";  $xa3="st\x72\164o\164i\x6de";  $xa4="t\162\151m";  $xa5="\151\163_\x6eu\x6de\162\x69\143";  $xa6="st\x72l\x65\156";  $xa7="\160\x72\145\147\x5f\x72\x65p\x6c\141\143e";  $xa8="j\x73o\x6e_d\x65\143od\x65";  $xa9="s\x74rs\164r";  $xaa="\x68\x74\x6d\x6cen\164it\x69e\x73";  $xab="html_\x65\156\164\151\x74\171\x5f\x64\145\143\x6f\x64\x65";  $xac="i\163\137\x61r\x72a\x79";  $xad="\x65\170\x70\x6code";  $xae="is_s\164\x72\x69\156\147";  $xaf="\164\151\x6d\x65";  $xb0="\154\x6f\147";  $xb1="\x70r\x69\x6e\164\137r";  $xb2="\163\164\162p\157\x73";  $xb3="u\143wo\x72d\x73";  $xb4="\151n\137\x61\162\x72\x61y";  $xb5="i\163\x5fb\x6f\x6f\x6c";  $xb6="\163\165\x62\x73\x74\162";  $xb7="\x73trr\x70o\163";  $xb8="\163\164r\x69\160\137\x74a\147\x73";  $xb9="\150\x74ml\x73p\x65\x63\151\141\154ch\x61r\163";  $xba="num\142\145\x72_\x66\x6f\162\155\141\x74";  $xbb="\x6d\142_\163\164r\164\x6flow\145\x72";  $xbc="m\x62\x5f\163\164\x72\164\x6f\165p\160\145\x72";  $xbd="sub\x73\x74r_\x63\x6f\x75n\164";  $xbe="\160\162\145\x67_\161uot\145";  $xbf="\166e\x72s\151o\x6e\x5f\x63o\x6dp\x61\x72\145";  $xc0="a\162r\x61\x79\137\165niq\165\x65";  $x3a = $xaa($x3a, ENT_NOQUOTES, 'UTF-8');  $x3a = $xab($x3a, ENT_NOQUOTES, $this->_file_encoding);  return $x3a;  } public function skipOptions($x3b) { $x9b="p\162e\147_s\160l\x69\164";  $x9c="i\x6d\160l\x6f\x64\x65";  $x9d="\163t\x72_\162\x65\x70lace";  $x9e="\165\164f\70\137en\x63od\145";  $x9f="\160r\x65\147\x5f\155\141\164c\150_a\154l";  $xa0="\x70re\x67\137\155a\x74ch";  $xa1="rtrim";  $xa2="\151\163\x5f\156\165l\154";  $xa3="\x73\x74r\x74o\164i\155\145";  $xa4="\x74\162\x69\155";  $xa5="is\x5f\x6eu\x6de\162ic";  $xa6="\x73\164\x72\154en";  $xa7="\160\x72\x65g_\x72\145\160\x6c\x61c\145";  $xa8="\152\x73o\156\x5f\x64\145c\x6f\144\145";  $xa9="\x73\x74rs\x74\x72";  $xaa="\150\x74\155l\x65\x6e\164\151t\x69e\x73";  $xab="\x68\x74\155\154\x5f\x65\156\x74\151\x74\171_dec\157\144\x65";  $xac="is\137\x61\162\162\141\x79";  $xad="\x65\170\160\x6c\157\144\x65";  $xae="\x69\x73\137\x73\164\162\151ng";  $xaf="\164\151\155\145";  $xb0="\x6co\147";  $xb1="prin\x74\137\162";  $xb2="\163trpo\163";  $xb3="\165\x63\167\157\162d\x73";  $xb4="\x69\156_\x61r\162a\x79";  $xb5="\151s_\x62\157o\x6c";  $xb6="s\165b\x73\164r";  $xb7="\x73\164\x72\162\160o\x73";  $xb8="\x73\164\x72\151p\x5f\164\141\147\x73";  $xb9="h\x74ml\163\160e\143\x69\x61\x6c\143\150\x61\162s";  $xba="\x6e\x75\155b\145r\137f\x6f\x72mat";  $xbb="\155\x62_st\162\x74\157\x6c\157\167\145r";  $xbc="\x6d\x62_st\x72\x74\157\x75\160\160\145\x72";  $xbd="sub\163\164\162\137\x63\x6f\165n\x74";  $xbe="p\x72e\147\137qu\157\164\145";  $xbf="\166e\162\x73i\x6f\156\x5f\x63\x6fm\x70a\162\145";  $xc0="\141rra\171\x5funi\161\x75\145";  $this->option = $this->option + $x3b;  } public function generateFile() { $x9b="\160r\x65g\x5fs\160\154\151\164";
 $x9c="imp\x6code";  $x9d="\x73\164\x72_\162\x65\160\154\x61\143\x65";  $x9e="\165\164f\70_\145\x6ecod\145";  $x9f="\x70\162eg\x5f\155at\143h\x5f\x61l\x6c";  $xa0="\160\x72\145g\x5f\x6d\x61t\143h";  $xa1="r\x74rim";  $xa2="i\x73_\x6eul\154";  $xa3="\163t\x72\x74\157\x74\x69\155\145";  $xa4="\164ri\155";  $xa5="i\x73\137n\165\155\145r\151\x63";  $xa6="\163\x74\x72\154\x65\x6e";  $xa7="\x70re\x67_re\x70l\x61\143\145";  $xa8="j\163on\137\144\145\x63o\x64e";  $xa9="\x73\x74\162\x73\164\x72";  $xaa="\150\164\155\x6c\x65\156\x74\x69\x74\151\x65\163";  $xab="h\164\155\154\137\145\x6eti\164\171_\144e\x63od\145";  $xac="i\163_\x61r\x72ay";  $xad="\145\x78\x70\154\157\x64\x65";  $xae="\x69s\137\163t\162\151\156\x67";  $xaf="\164ime";  $xb0="lo\x67";  $xb1="\160\x72\x69nt\137r";  $xb2="str\x70\x6f\163";  $xb3="\165\x63\167\x6fr\x64\x73";  $xb4="\151n_\141\x72\162\141y";  $xb5="\x69\x73\x5fb\x6f\x6fl";  $xb6="\x73u\142\x73\164\162";  $xb7="\163trr\x70\x6f\x73";  $xb8="s\164\162\151\x70\x5ft\141\147\x73";  $xb9="\150t\155\154\163\160e\143i\141l\x63h\x61\162\163";  $xba="n\x75\155\x62\145\162_fo\x72ma\164";  $xbb="\155\x62_\163\164\162t\x6f\x6c\x6f\x77e\x72";  $xbc="\x6d\142\137s\x74\162tou\160\160\145\x72";  $xbd="\x73\165\x62\x73\x74r\x5f\x63\x6fu\156\x74";  $xbe="pr\145\x67\137\161\x75\x6f\x74e";  $xbf="\x76\145r\x73\x69\157\156_\143\157\155pa\162e";  $xc0="\x61\162ra\x79_un\151q\165\x65";  $x3c = new Wyomind_Ordersexporttool_Model_MyCustomOptions;  $x3d = new Wyomind_Ordersexporttool_Model_MyCustomAttributes;  $x3e = new Wyomind_Ordersexporttool_Model_MyCustomScripts;  $this->_debug = (isset($_GET['debug']) || $this->_debug) ? true : false;  if ($this->_debug) { echo "\55-\55\55-\55-\55--\x2d\55\x2d\x2d\x2d\55\55\x2d\55-\x2d-\x2d--\x2d-\x2d\55-\x2d\x2d\55-\55\55\x2d\x2d-\x2d\x2d-\55\x2d--<\142r\76\x2d\x2d\55\55-\x2d\55\55\x2d-\x2d\55 D\x45\x42\x55\x47\40\x4d\117\104E ---\55\55\55\x2d\55-\55-\55\55\55\x2d-\x3c\142\x72\x3e\55\55\x2d----\x2d\x2d-\x2d---\55\x2d\55\55\55\x2d-\55-\55--\x2d\x2d\55\55\x2d--\x2d\55-\x2d\x2d-\x2d\x2d\x2d\x2d---<\x62\x72\x3e\x3c\x62r>";  } $x3f = array("\141\143" => "act\x69\166at\151\x6f\156\x5f\x63o\x64\145", "a\x6b" => "a\143t\151\166\x61ti\157n\137\153\145\x79", "\x62\165" => "b\x61s\145\x5f\165\162l", "\155\144" => "\155d\65", "\x74\x68" => "this", "\x64\x6d" => "_\x64e\155\x6f", "\145xt" => "\157e\x74", "\x76\x65\x72" => "\63.\64\56\60");  $x40 = Mage::getSingleton('core/date')->gmtDate('Y-m-d');  $xac(Mage::app()->getRequest()->getParam("\x66\x69\x6ce\137\x73\x74ore_i\x64")) ? $x41 = Mage::app()->getRequest()->getParam("\x66\x69\x6ce\137\x73\x74ore_i\x64") : $x41 = $xad(',', $this->getFileStoreId());  $xae(Mage::app()->getRequest()->getParam("f\151\154\145\x5fb\157\144y")) ? $x42 = Mage::app()->getRequest()->getParam("f\151\154\145\x5fb\157\144y") : $x42 = $this->getFile_body();  $xae(Mage::app()->getRequest()->getParam("fi\x6ce_\150e\141\144\145\162")) ? $x43 = Mage::app()->getRequest()->getParam("fi\x6ce_\150e\141\144\145\162") : $x43 = $this->getFile_header();  $xae(Mage::app()->getRequest()->getParam("\146\x69l\145\137\145\x78\164\162\x61\x5f\150e\x61\x64er")) ? $x44 = Mage::app()->getRequest()->getParam("\146\x69l\145\137\145\x78\164\162\x61\x5f\150e\x61\x64er") : $x44 = $this->getFile_extra_header();  $x44 = $this->xc1($x44, null, false, false);  $xae(Mage::app()->getRequest()->getParam("fi\x6c\x65\x5f\146\157\157\x74\x65\162")) ? $x45 = Mage::app()->getRequest()->getParam("fi\x6c\x65\x5f\146\157\157\x74\x65\162") : $x45 = $this->getFile_footer();  $xae(Mage::app()->getRequest()->getParam("\146\151\x6ce_t\x79\x70\145")) ? $x46 = Mage::app()->getRequest()->getParam("\146\151\x6ce_t\x79\x70\145") : $x46 = $this->getFile_type();  $xae(Mage::app()->getRequest()->getParam("f\x69\x6ce\137i\x6eclu\144e\137\x68\145ad\x65\162")) ? $x47 = Mage::app()->getRequest()->getParam("f\x69\x6ce\137i\x6eclu\144e\137\x68\145ad\x65\162") : $x47 = $this->getFile_include_header();  $xae(Mage::app()->getRequest()->getParam("\146\151\x6ce\137sep\141\162\x61\x74\157r")) ? $x32 = Mage::app()->getRequest()->getParam("\146\151\x6ce\137sep\141\162\x61\x74\157r") : $x32 = $this->getFile_separator();  $xae(Mage::app()->getRequest()->getParam("f\x69\x6c\x65_\x70\x72\x6ft\x65\x63\164\157\162")) ? $x33 = Mage::app()->getRequest()->getParam("f\x69\x6c\x65_\x70\x72\x6ft\x65\x63\164\157\162") : $x33 = $this->getFile_protector();  $xae(Mage::app()->getRequest()->getParam("f\151\x6ce_\145n\143\154\x6fs\145\x5f\x64at\141")) ? $x48 = Mage::app()->getRequest()->getParam("f\151\x6ce_\145n\143\154\x6fs\145\x5f\x64at\141") : $x48 = $this->getFile_enclose_data();  $xae(Mage::app()->getRequest()->getParam("\146il\x65\137\141\x74\x74\x72\x69\x62\x75te\163")) ? $x49 = $xa8(Mage::app()->getRequest()->getParam("\146il\x65\137\141\x74\x74\x72\x69\x62\x75te\163")) : $x49 = $xa8($this->getFileAttributes());  $xae(Mage::app()->getRequest()->getParam("f\x69\154e\x5f\x6c\141\163\x74\137e\170\160o\162t\145d\x5f\x69\x64")) ? $x4a = (Mage::app()->getRequest()->getParam("f\x69\154e\x5f\x6c\141\163\x74\137e\170\160o\162t\145d\x5f\x69\x64")) : $x4a = ($this->getFileLastExportedId());  $xae(Mage::app()->getRequest()->getParam("\146\x69\154e\x5ff\154\x61\x67")) ? $x4b = Mage::app()->getRequest()->getParam("\146\x69\154e\x5ff\154\x61\x67") : $x4b = $this->getFileFlag();  $xae(Mage::app()->getRequest()->getParam("\146\x69\x6c\145_\x73i\156\x67\154\x65_\x65\170p\157\162t")) ? $x4c = Mage::app()->getRequest()->getParam("\146\x69\x6c\145_\x73i\156\x67\154\x65_\x65\170p\157\162t") : $x4c = $this->getFileSingleExport();  $xae(Mage::app()->getRequest()->getParam("f\151\x6c\x65_\163t\x61t\145\163")) ? $x4d = $xad(',', Mage::app()->getRequest()->getParam("f\151\x6c\x65_\163t\x61t\145\163")) : $x4d = $xad(',', $this->getFileStates());  $xae(Mage::app()->getRequest()->getParam("\146\x69\x6c\x65\x5f\x63\x75sto\x6de\x72\x5f\x67r\x6f\x75\160s")) ? $x4e = $xad(',', Mage::app()->getRequest()->getParam("\146\x69\x6c\x65\x5f\x63\x75sto\x6de\x72\x5f\x67r\x6f\x75\160s")) : $x4e = $xad(',', $this->getFileCustomerGroups());  $xae(Mage::app()->getRequest()->getParam("f\x69\x6ce\x5f\162e\160\145\x61\x74\x5f\x66o\x72\137\145a\x63\150")) ? $x4f = Mage::app()->getRequest()->getParam("f\x69\x6ce\x5f\162e\160\145\x61\x74\x5f\x66o\x72\137\145a\x63\150") : $x4f = $this->getFileRepeatForEach();  $xae(Mage::app()->getRequest()->getParam("\x66i\154\x65_re\x70\145a\164\x5f\146\157\x72\137\x65\x61\x63h\x5f\151\x6e\143r\x65m\145\x6et")) ? $x50 = Mage::app()->getRequest()->getParam("\x66i\154\x65_re\x70\145a\164\x5f\146\157\x72\137\x65\x61\x63h\x5f\151\x6e\143r\x65m\145\x6et") : $x50 = $this->getFileRepeatForEachIncrement();  $xae(Mage::app()->getRequest()->getParam("\146\x69l\x65_\x6frd\145\162_\142\x79")) ? $x51 = Mage::app()->getRequest()->getParam("\146\x69l\x65_\x6frd\145\162_\142\x79") : $x51 = $this->getFileOrderBy();  $xae(Mage::app()->getRequest()->getParam("fi\x6ce\137or\x64\x65r\137b\171_\146\151\145\154\x64")) ? $x52 = Mage::app()->getRequest()->getParam("fi\x6ce\137or\x64\x65r\137b\171_\146\151\145\154\x64") : $x52 = $this->getFileOrderByField();  $xae(Mage::app()->getRequest()->getParam("\146\x69\154e\x5f\x69\156\143\162\x65\x6d\145\156\164\151\x61\x6c\x5f\x63\157\x6c\165\155\156")) ? $this->_incrementialColumn = Mage::app()->getRequest()->getParam("\146\x69\154e\x5f\x69\156\143\162\x65\x6d\145\156\164\151\x61\x6c\x5f\x63\157\x6c\165\155\156") : $this->_incrementialColumn = $this->getFile_incremential_column();  $xae(Mage::app()->getRequest()->getParam("\x66\151\154\145\x5finc\x72\x65\x6de\x6e\164\x69a\x6c_\143o\154u\x6dn\137n\x61\155\x65")) ? $this->_incrementialColumnName = Mage::app()->getRequest()->getParam("\x66\151\154\145\x5finc\x72\x65\x6de\x6e\164\x69a\x6c_\143o\154u\x6dn\137n\x61\155\x65") : $this->_incrementialColumnName = $this->getFile_incremential_column_name();  $xac(Mage::app()->getRequest()->getParam("\x66i\x6ce\x5fpro\x64u\143\x74\x5f\x74\171p\x65")) ? $x53 = Mage::app()->getRequest()->getParam("\x66i\x6ce\x5fpro\x64u\143\x74\x5f\x74\171p\x65") : $x53 = $xad(',', $this->getFile_product_type());  $xae(Mage::app()->getRequest()->getParam("f\x69l\145\x5fe\156\143\x6fdi\156\147")) ? $this->_file_encoding = Mage::app()->getRequest()->getParam("f\x69l\145\x5fe\156\143\x6fdi\156\147") : $this->_file_encoding = $this->getFile_encoding();  $x54 = $this->getFileFtpEnabled();  $x55 = $this->getFileFtpHost();  $x56 = $this->getFileFtpLogin();  $x57 = $this->getFileFtpPassword();  $x58 = $this->getFileFtpDir();  $x59 = $this->getFileFtpActive();  $x5a = $this->getFileUseSftp();  $x5b = $this->getFileUpdateStatus();  $x5c = $this->getFileUpdateStatusTo();  $x5d = $this->getFileUpdateStatusMessage();  $this->_timestamp = $this->_timestamp = Mage::getModel('core/date')->timestamp($xaf());  $x5e = array( "a\143t\151\166\x61ti\157n\137\153\145\x79" => Mage::getStoreConfig("ord\x65rse\170\x70\x6f\162\164\164o\x6fl\x2f\x6ci\x63\x65n\x73\x65\x2f\141\143\164\151\x76\x61\x74i\x6f\156_k\145\x79"), "act\x69\166at\151\x6f\156\x5f\x63o\x64\145" => Mage::getStoreConfig("\157r\144e\162\x73\x65\170\x70o\162t\164\x6f\x6fl\57\154\151\x63\145\156\x73\145\57\x61\x63\164\151v\141\x74\151\x6f\x6e_\x63\x6f\x64\145"), "b\x61s\145\x5f\165\162l" => Mage::getStoreConfig("\x77e\142/\163\145\x63ur\145\x2f\142\x61se_\x75r\154"), );  Mage::$xb0("\x0a\53+++++\x2b\x2b++\53\53+\53+\53+\53\53\53\x2b\x2b++\53\53\53\x2b+\x2b+\x20\x53T\x41\x52\124\x49\116\107 EXP\117R\x54\x20\x50RO\103E\123\x53\40\x2b+\53+\x2b\53+\53\x2b\x2b\53+\53+\53\x2b+\x2b\x2b\x2b\x2b\x2b\53\x2b\x2b\53+\x2b\x2b\x2b\53", null, $this->xc2('.$xb0'));  $x1e = new Varien_Io_File();  $x1e->setAllowCreateFolders(true);  if (!$this->_display) { $x1e->open(array('path' => $this->getPath()));  if ($x1e->fileExists($this->xc2()) && !$x1e->isWriteable($this->xc2())) { Mage::throwException(Mage::helper('ordersexporttool')->__('File "%s" cannot be saved. Please, make sure the directory "%s" is writeable by web server.', $this->xc2(), $this->getPath()));  } if (!$x4f) { Mage::$xb0("\x0a\x3e>\x3e\x3e\x3e\76\x3e\76\76\x3e>\76\76>>>\76\x3e>>\x3e\x3e\x3e\76\76>\x3e\76>\x3e>\x3e\x3e>\76\x3e\76\76\76>>\76\76\76\x3e\x3e\x20" . $this->xc2() . " \x63\x72\145\x61\164e\144", null, $this->xc2('.$xb0'));  $x1e->streamOpen($this->xc2());  } } if ($x5e[$x3f["\141\143"]] != $x3f["\155\144"]($x3f["\155\144"]($x5e[$x3f['ak']]) . $x3f["\155\144"]($x5e[$x3f['bu']]) . $x3f["\155\144"]($x3f["\145xt"]) . $x3f["\155\144"]($x3f["\x76\x65\x72"]))) { $$x3f["\145xt"] = "v\x61\x6c\x69\x64";  $$x3f["\x74\x68"]->$x3f["\x64\x6d"] = true;  } else { $$x3f["\x74\x68"]->$x3f["\x64\x6d"] = false;  $$x3f["\145xt"] = "v\x61\x6c\x69\x64";  } $x5f = '';  $x60 = '';  header("Co\156t\x65n\x74\x2dT\171\x70e:\x20\x74\145\170t/\x68\164ml\x3b\x20\x63\x68ar\163et\x3d\x75\164\146\x2d\70");  $this->getEncodeType($x43);  $x43 = $this->xc1($x43, null, $x46, true);  if ($x46 == 1 || ($x46 != 1 && !$this->_display)) $x24 = $this->xc9($x43);  if ($this->_display) { if ($x46 == 1) { $x60 = $this->xc4($x43, $x48) . "";  } else { $x60 = $x44 . '<br>';
 $x60 .= '<table style="border:2px solid grey;  font-family:arial;  font-size:12px" cellspacing=0 cellpadding=0 width="100%">';  if ($x47) { $x60.=$this->xc5(($x43), true);  } } } else { if ($x46 == 1) { $x1e->streamWrite($this->xc4($x43, $x48) . "");  } else { if ($x44 != '') $x1e->streamWrite($x44 . "\x0d\x0a");  if ($x47) { $x1e->streamWrite($this->xc6(($x43), $x32, $x33, false));  } } Mage::$xb0("\x0a\76\76>>>>>>>\x3e\76>\x3e\76\x3e\x3e\76\76\x3e>>\x3e\76\x3e>\x3e\x3e\x3e\76>\x3e\x3e\76\x3e\x3e\x3e>>\x3e>\x3e\76\76\76\x3e>\40\110\145\141\x64\x65\162 \141\x64\x64e\x64", null, $this->xc2('.$xb0'));  } if (!isset($$x3f["\145xt"]) || $$x3f["\x74\x68"]->$x3f["\x64\x6d"]) { $$x3f["\x74\x68"]->$x3f["\x64\x6d"] = true;  return $$x3f["\x74\x68"];  } foreach ($x49 as $x61) { $xa0('/(order_payment|order_item|order|invoice|shipment|creditmemo).(.*)/', $x61->code, $x1a);  $x61->code = $x1a[2];  $x20[$x1a[1]][] = $x61;  } $x49 = $x20;  if ($this->_debug) { echo "<b\x72>\74\142\162\x3e--\55\55\55-\55-\55-\55-\40\x46ILT\x45\122\123\x20\55\55\x2d\x2d\55---\55\x2d-\x2d\55\x2d\55\x2d<\x62\162>";  $xb1($x49);  } Mage::$xb0("\x0a>\76\x3e>\76\x3e>\76>\76>\x3e>>\76\x3e>\76\x3e\x3e\76\x3e\x3e>\76>\x3e\76\x3e\76\x3e>\x3e\76>>>\76\76\76\x3e\x3e\76>\x3e\x3e\x20F\151\154\x74\x65\162\163 a\x6ea\x6c\151\172\145\144", null, $this->xc2('.$xb0'));  $x62 = array("eq" => "\x3d\40'%s\x27", "n\x65q" => "!\x3d '\x25\163\x27", "\147\164eq" => "\76\75\x20\47%s'", "\x6c\x74e\x71" => "\74\75 \x27\45s\x27", "\147t" => "> \47\45\x73\x27", "lt" => "\74\40\47%\x73'", "\x6ci\153\x65" => "\x6ci\x6b\145\x20\47\x25\163'", "\x6e\154\151\x6b\x65" => "\156ot\40li\x6b\x65\x20'\x25\163\47", "\156\165\x6cl" => "\151s \x6e\x75\x6c\154", "\156\x6ftn\165l\x6c" => "i\163\x20\156\x6ft \156\x75\154l", "\151\x6e" => "\151n\40\x28\45\163)", "n\151\x6e" => "\x6eo\x74 in(%\163\x29", );  $x19 = '/{payment::start}(.+){payment::end}/is';  $x9f($x19, $x42, $x1a);  if (isset($x1a[1][0])) { $x63["\160\x61ym\145\156\164"]["\x66u\x6c\154\x70\x61t\x74e\162\x6e"] = $x1a[0][0];  $x63["\160\x61ym\145\156\164"]["\160\141\x74\164e\162\x6e"] = $x1a[1][0];  } $x19 = '/{invoice::start}(.+){invoice::end}/is';  $x9f($x19, $x42, $x1a);  if (isset($x1a[1][0])) { $x63["\151nvoice"]["\x66u\x6c\154\x70\x61t\x74e\162\x6e"] = $x1a[0][0];  $x63["\151nvoice"]["\160\141\x74\164e\162\x6e"] = $x1a[1][0];  } $x19 = '/{shipment::start}(.+){shipment::end}/is';  $x9f($x19, $x42, $x1a);  if (isset($x1a[1][0])) { $x63["\163h\151\x70\155\x65\156\164"]["\x66u\x6c\154\x70\x61t\x74e\162\x6e"] = $x1a[0][0];  $x63["\163h\151\x70\155\x65\156\164"]["\160\141\x74\164e\162\x6e"] = $x1a[1][0];  } $x19 = '/{creditmemo::start}(.+){creditmemo::end}/is';  $x9f($x19, $x42, $x1a);  if (isset($x1a[1][0])) { $x63["\143r\145\144i\164\x6de\x6d\157"]["\x66u\x6c\154\x70\x61t\x74e\162\x6e"] = $x1a[0][0];  $x63["\143r\145\144i\164\x6de\x6d\157"]["\160\141\x74\164e\162\x6e"] = $x1a[1][0];  } $x19 = '/{product::start}(.+){product::end}/is';  $x9f($x19, $x42, $x1a);  if (isset($x1a[1][0])) { $x63["pr\x6f\144\165\143\x74"]["\x66u\x6c\154\x70\x61t\x74e\162\x6e"] = $x1a[0][0];  $x63["pr\x6f\144\165\143\x74"]["\160\141\x74\164e\162\x6e"] = $x1a[1][0];  } if ($this->_debug) { echo "<\142\x72>\74\142\162\76-\55\x2d\x2d\55\x2d\x2d---\55\55\x20\x53UBP\x41R\124T\x45\122N\123 --\x2d\x2d\x2d\x2d-\55\x2d\x2d\55\55-\55\55\x2d<\142\162>";  $xb1($x63);  } Mage::$xb0("\x0a\76\76>\76\x3e>>>>\x3e\76\76\x3e>>\76>\76>\x3e>\x3e>\76>\x3e>\76>\76\x3e\76\x3e\x3e>\x3e>\76>>>\76\x3e\x3e\x3e\x3e T\145m\x70\154\x61te \x70a\162s\145d", null, $this->xc2('.$xb0'));  $x19 = '/{([a-zA-Z_0-9:]+)(\sorder|\sbilling|\sshipping|\sproduct|\sinvoice|\screditmemo|\sshipment|\spayment)?([^}]*)}/';  $x9f($x19, $x42, $x1a);  $x64 = array();  $x65 = array();  foreach ($x1a[1] as $x1b => $x66) { if (!$xb2($xa4($x66), '::')) { $x64[$x1b]['methodName'] = "\x67\145t" . $x9d(' ', '', $xb3($xa4($x66)) . '()');  $x64[$x1b]['pattern'] = "\x7b" . $xa4($x66) . "}";  $x64[$x1b]['fullpattern'] = $x1a[0][$x1b];  $x64[$x1b]['name'] = $xa4($x66);  $x64[$x1b]['reference'] = $xa4($x1a[2][$x1b]);  if (empty($x64[$x1b]['reference'])) $x64[$x1b]['reference'] = 'order';  switch ($x64[$x1b]['name']) { case 'xxx': break;  default : $x65[$x64[$x1b]['reference']][] = $x64[$x1b]['name'];  if ($x64[$x1b]['reference'] != '') $x67[$x64[$x1b]['reference']] = true;  break;  } $x64[$x1b]["va\154\165e"] = '$order->get' . $x64[$x1b]['name'] . "\x28)";  $x64[$x1b]["g\x65tT\x65\170\164"] = 'getAttributeText(\'' . $xa4($x66) . '\')';  $x68 = '/\[([^\]]+)\]/';  $x9f($x68, $x1a[3][$x1b], $x69);  $x64[$x1b]["\x6fp\164\x69o\x6e\x73"] = $x69[1];  } } Mage::$xb0("\x0a>\76\x3e\x3e\x3e\x3e>\x3e\76\76\x3e\x3e\x3e\76\x3e\x3e\76>\76\76>\76>\x3e\76>\76>\76>\x3e\76\76\x3e>>\76\76>\x3e\x3e>\x3e\76\76\x3e \x41\x74\x74\162i\142\165\x74\x65\x73\40co\154\x6c\x65\x63\x74\x65d", null, $this->xc2('.$xb0'));  $x6a = "*";  $x6b = Mage::getModel('sales/order')->getCollection();  if ($this->_includeStoreId) $x6b->addAttributeToFilter('store_id', array('in' => $x41));  $x6b->addAttributeToSelect($x6a);  $x6b->addAttributeToFilter('increment_id', array('gteq' => $x4a));  $x6b->addAttributeToFilter("\163tatu\x73", array("\151\x6e" => $x4d));  $x6b->addAttributeToFilter("\143\x75\163\164\x6fm\145\162\x5f\147r\157\x75\160\x5fi\144", array("\151\x6e" => $x4e));  foreach ($x49['order'] as $x6c) { if ($x6c->checked) { if ($x6c->condition == 'in' || $x6c->condition == 'nin') { $x6c->value = $xad(',', $x6c->value);  } switch ($x6c->code) { default : $x6b->addFieldToFilter($x6c->code, array($x6c->condition => $x6c->value));  break;  } } };  foreach ($x6b as $x6d) { $x6e[] = $x6d->getEntityId();  $x6f[] = $x6d->getBillingAddressId();  $x70[] = $x6d->getShippingAddressId();  } if ($this->_debug) { echo "<\142\162\76\x3c\x62\162\x3e\x2d\55\55\55-\55-\55\55--\x2d\x20\117R\104\105\122 \x49\x44\123\x20\x2d-\55-\x2d-\x2d\x2d-\55\55\x2d\55\x2d\x2d-\74br>";  $xb1($x6e);  } Mage::$xb0("\x0a\x3e\x3e\76>>\x3e\76\x3e\76>\x3e\76>>\x3e\x3e\76\x3e\x3e\x3e>>\76\x3e>\76\x3e\76\76>\x3e\76\x3e>\x3e\x3e\x3e>\x3e\76>\76>>\x3e> \117\x72\x64e\x72s\40\145x\x74\162\x61\143\164\145\x64 \x3a\x0a\40" . $xb1($x6e, true), null, $this->xc2('.$xb0'));  if (isset($x67['billing'])) { $x6b = Mage::getModel('sales/order_address')->getCollection();  $x6b->addAttributeToSelect($x6a);  $x6b->addAttributeToFilter('entity_id', array('in' => $x6f));  $x6f = array();  foreach ($x6b as $x71) { $x6f[$x71->getParentId()][] = $x71->getEntityId();  $this->_billingAddresses[$x71->getEntityId()][] = $x71;  } if ($this->_debug) { echo "<\x62\x72>\74\x62\x72\76-\55\55\55\x2d-----\55\x2d\40\102ILL\111\x4e\x47\x20\x41\104D\122\105S\x53 \x49D\123 \x2d\x2d-----\55\x2d-\x2d\55--\55\55<\142\162\x3e";  $xb1($x6f);  } Mage::$xb0("\x0a>\76>\76\76>\x3e>>>\76>>\x3e>>>\76\76>\76>\76\x3e\76>>\76\76\76\76\x3e>\76>\76\76\x3e\x3e\x3e>>>>>> B\x69\154\154\151\x6e\x67 ad\144\x72\x65ss\145s\x20\145\170\164\162a\143\164\145\144\40\72\x0a\x20" . $xb1($x6f, true), null, $this->xc2('.$xb0'));  } if (isset($x67['shipping'])) { $x6b = Mage::getModel('sales/order_address')->getCollection();  $x6b->addAttributeToSelect($x6a);  $x6b->addAttributeToFilter('entity_id', array('in' => $x70));  $x70 = array();  foreach ($x6b as $x72) { $x70[$x72->getParentId()][] = $x72->getEntityId();  $this->_shippingAddresses[$x72->getEntityId()][] = $x72;  } if ($this->_debug) { echo "\x3c\x62\162\76<br>-\55-\55\55-\55\55\55\55\55- S\x48I\120P\x49\x4e\x47 \x41\x44DRES\123 \111\104\x53\40--\55\x2d\x2d--\55\55\55\55-\55\x2d--\x3cb\162\76";  $xb1($x70);  } Mage::$xb0("\x0a\x3e\76\x3e\x3e\x3e>>>\x3e>\x3e>\76\76\x3e\76\76>\x3e>\76\76>>\76\76\76\76\76\x3e\x3e\76\76\x3e\76>>\x3e\76\x3e\x3e>>\76\76\x3e\x20S\x68\x69p\160\151\156\147\x20\x61\x64d\162\145s\x73e\x73\40\145xt\x72ac\x74e\144\40\x3a\x0a\40" . $xb1($x70, true), null, $this->xc2('.$xb0'));  } if (isset($x67['payment'])) { $x6b = Mage::getModel('sales/order_payment')->getCollection();  $x6b->addAttributeToSelect($x6a);  $x6b->addAttributeToFilter('parent_id', array('in' => $x6e));  foreach ($x49['order_payment'] as $x6c) { if ($x6c->checked) { if ($x6c->condition == 'in' || $x6c->condition == 'nin') { $x6c->value = $xad(',', $x6c->value);
 } switch ($x6c->code) { default : $x6b->addFieldToFilter($x6c->code, array($x6c->condition => $x6c->value));  break;  } } };  $x73 = array();  foreach ($x6b as $x74) { $x73[$x74->getParentId()][] = $x74->getEntityId();  $this->_payments[$x74->getParentId()][] = $x74;  } if ($this->_debug) { echo "\x3c\x62r><\x62\162\76\55--\x2d\55\x2d\x2d\55-\x2d\x2d\55\x20\x50A\x59\x4dE\x4e\124\40\x49\x44\123\40\x2d\55\x2d\55\x2d---\55-\55\55\x2d-\55\x2d\x3c\x62\162\x3e";  $xb1($x73);  } Mage::$xb0("\x0a\x3e\76\x3e>\76>\x3e>\x3e>\x3e\x3e\76\x3e\76\76>\x3e\76\76\x3e>>\x3e>\76\76>\76>>\76\76\x3e\76>>>\76\x3e\76\76\x3e\x3e>\76 Pa\x79\x6de\x6e\x74\x73 \40e\170\x74r\141\143\x74ed \72\x0a " . $xb1($x73, true), null, $this->xc2('.$xb0'));  } if (isset($x67['invoice'])) { $x6b = Mage::getModel('sales/order_invoice')->getCollection();  $x6b->addAttributeToSelect($x6a);  $x6b->addAttributeToFilter('order_id', array('in' => $x6e));  foreach ($x49['invoice'] as $x6c) { if ($x6c->checked) { if ($x6c->condition == 'in' || $x6c->condition == 'nin') { $x6c->value = $xad(',', $x6c->value);  } switch ($x6c->code) { default : $x6b->addFieldToFilter($x6c->code, array($x6c->condition => $x6c->value));  break;  } } };  $x75 = array();  foreach ($x6b as $x76) { $x75[$x76->getOrderId()][] = $x76->getEntityId();  $this->_invoices[$x76->getOrderId()][] = $x76;  } if ($this->_debug) { echo "\74\142\x72\x3e<\142\x72\76\x2d\x2d\x2d\x2d\x2d\x2d\55\55\55\x2d-\x2d IN\126\117I\x43\105 I\x44\123\40\55-\x2d--\55---\x2d\x2d-\55-\x2d-\74\x62r\76";  $xb1($x75);  } Mage::$xb0("\x0a\x3e\x3e\x3e>\76\76>\x3e\76\x3e\76>>>>>\76>>\x3e>\x3e>\76>\x3e\76\76\x3e\x3e\x3e\76\76\x3e\x3e>\76\x3e>\x3e\x3e\76\x3e\x3e\76\x3e\x20Invo\151\x63e\x73 \145\170tr\141\143\x74\145\144\x20\x3a\x0a " . $xb1($x75, true), null, $this->xc2('.$xb0'));  } if (isset($x67['shipment'])) { $x6b = Mage::getModel('sales/order_shipment')->getCollection();  $x6b->addAttributeToSelect($x6a);  $x6b->addAttributeToFilter('order_id', array('in' => $x6e));  $x77 = array();  foreach ($x49['shipment'] as $x6c) { if ($x6c->checked) { if ($x6c->condition == 'in' || $x6c->condition == 'nin') { $x6c->value = $xad(',', $x6c->value);  } switch ($x6c->code) { default : $x6b->addFieldToFilter($x6c->code, array($x6c->condition => $x6c->value));  break;  } } };  foreach ($x6b as $x78) { $x77[$x78->getOrderId()][] = $x78->getEntityId();  $this->_shipments[$x78->getOrderId()][] = $x78;  } if ($this->_debug) { echo "\x3c\142\x72\76<\142\x72>\55-\55\55-\x2d\55\55\x2d\x2d\x2d-\40\x53H\x49\120M\105\x4e\x54 I\x44\x53 --\x2d---\55\x2d\x2d\55\x2d\55-\55--\74\142\x72\x3e";  $xb1($x77);  } Mage::$xb0("\x0a\76>\x3e\x3e>\x3e>>\x3e\x3e\76>\x3e>\76>>\x3e>>\76\x3e\x3e\76\76\x3e\76\x3e\76\76\x3e>\x3e\x3e>\x3e\x3e\76>\x3e>\76\x3e>\76> \x53\x68\151pme\x6e\x74\163\x20\40\145\170\x74\162\141\143t\x65\144\x20:\x0a\x20" . $xb1($x77, true), null, $this->xc2('.$xb0'));  } if (isset($x67['creditmemo'])) { $x6b = Mage::getModel('sales/order_creditmemo')->getCollection();  $x6b->addAttributeToSelect($x6a);  $x6b->addAttributeToFilter('order_id', array('in' => $x6e));  foreach ($x49['creditmemo'] as $x6c) { if ($x6c->checked) { if ($x6c->condition == 'in' || $x6c->condition == 'nin') { $x6c->value = $xad(',', $x6c->value);  } switch ($x6c->code) { default : $x6b->addFieldToFilter($x6c->code, array($x6c->condition => $x6c->value));  break;  } } };  $x79 = array();  foreach ($x6b as $x7a) { $x79[$x7a->getOrderId()][] = $x7a->getEntityId();  $this->_creditmemos[$x7a->getOrderId()][] = $x7a;  } if ($this->_debug) { echo "\74\142r\76\74\x62\162\x3e\x2d\55-\x2d\x2d\55\x2d\55\x2d\55\x2d\55 \x43\x52\x45DI\124\x4d\x45\x4d\117\40I\104S\x20\55\x2d\55--\x2d-\x2d--\55-\x2d\55\55\x2d<\142\162\76";  $xb1($x79);  } Mage::$xb0("\x0a\76\x3e>\76\x3e\76\x3e\x3e>>\76\76\x3e>\x3e\x3e\x3e>\x3e\x3e>\76\x3e\x3e\x3e\76\76>\x3e\x3e\76\76\x3e\76\x3e\76>\x3e\76>\x3e>\x3e\76>\76 \x43\x72e\x64\x74\x69\x6d\145\155\157s\x20\40ex\x74\x72\x61\143\164ed\x20\72\x0a\x20" . $xb1($x79, true), null, $this->xc2('.$xb0'));  } if (isset($x67['product'])) { $x6b = Mage::getModel('sales/order_item')->getCollection();  $x6b->addAttributeToSelect($x6a);  $x6b->addFieldToFilter('order_id', array('in' => $x6e));  foreach ($x49['order_item'] as $x6c) { if ($x6c->checked) { if ($x6c->condition == 'in' || $x6c->condition == 'nin') { $x6c->value = $xad(',', $x6c->value);  } switch ($x6c->code) { default : $x6b->addFieldToFilter($x6c->code, array($x6c->condition => $x6c->value));  break;  } } };  $x7b = array();  $x7c = 0;  foreach ($x6b as $x7d) { switch ($x7d->getProductType()) { case 'configurable' :$x7e[$x7d->getItemId()] = $x7d;  break;  case 'grouped' :$x7f[$x7d->getItemId()] = $x7d;  break;  case 'bundle' :$x80[$x7d->getItemId()] = $x7d;  break;  } if (!$x7d->getParentItemId()) { if (!$xb4($x7d->getProductType(), array('grouped', 'bundle', 'configurable')) && $xb4('simple', $x53)) { $x7b[$x7d->getOrderId()][$x7c] = $x7d->getItemId();  $this->_products[$x7d->getOrderId()][$x7c] = $x7d;  } elseif ($x7d->getProductType() == 'configurable' && $xb4('configurable', $x53)) { $x7b[$x7d->getOrderId()][$x7c] = $x7d->getItemId();  $this->_products[$x7d->getOrderId()][$x7c] = $x7d;  } elseif ($x7d->getProductType() == 'bundle' && $xb4('bundle_parent', $x53)) { $x7b[$x7d->getOrderId()][$x7c] = $x7d->getItemId();  $this->_products[$x7d->getOrderId()][$x7c] = $x7d;  } elseif ($x7d->getProductType() == 'grouped' && $xb4('grouped_parent', $x53)) { $x7b[$x7d->getOrderId()][$x7c] = $x7d->getItemId();  $this->_products[$x7d->getOrderId()][$x7c] = $x7d;  } } else { if (count($x7e[$x7d->getParentItemId()]) && $xb4('configurable', $x53) && isset($this->_products[$x7d->getOrderId()][$x7c - 1])) { $this->_products[$x7d->getOrderId()][$x7c - 1]->setParentItemId($x7d->getParentItemId());  $this->_products[$x7d->getOrderId()][$x7c - 1]->setItemId($x7d->getItemId());  $this->_products[$x7d->getOrderId()][$x7c - 1]->setName($x7d->getName());  } elseif (count($x80[$x7d->getParentItemId()]) && $xb4('bundle_children', $x53)) { $x7b[$x7d->getOrderId()][$x7c] = $x7d->getItemId();  $this->_products[$x7d->getOrderId()][$x7c] = $x7d;  } elseif (count($x7f[$x7d->getParentItemId()]) && $xb4('grouped_chidren', $x53)) { $x7b[$x7d->getOrderId()][$x7c] = $x7d->getItemId();  $this->_products[$x7d->getOrderId()][$x7c] = $x7d;  } } $x7c++;  } if ($this->_debug) { echo "\x3cbr\x3e\x3c\142\x72\76\x2d\x2d-\55\x2d\x2d----\55-\40p\x72o\x64u\143\x74 \x49\x44\x53\x20-\x2d\x2d\x2d\x2d-\x2d\55\55\55-\55\55\55\55\55\x3c\142\x72>";  $xb1($x7b);  } Mage::$xb0("\x0a\76>\x3e\x3e\x3e\x3e\x3e\76\x3e\76\76>>>>>\76\x3e\76\x3e>\x3e\76\x3e>\x3e>>\76>\76\x3e\76\76\76>\76>\76>\x3e\x3e\76>>\76 \120r\x6f\144u\143\x74\x73\x20\40ex\x74\162\141\x63\x74\x65d\x20:\x0a\40" . $xb1($x7b, true), null, $this->xc2('.$xb0'));  } $x5f = '';  $x21 = 1;  $x6b = Mage::getModel('sales/order')->getCollection();  if ($this->_includeStoreId) $x6b->addAttributeToFilter('store_id', array('in' => $x41));  $x6b->addAttributeToSelect($x6a);  $x6b->addAttributeToFilter('increment_id', array('gteq' => $x4a));  $x6b->addAttributeToFilter("\163tatu\x73", array("\151\x6e" => $x4d));  $x6b->addAttributeToFilter("\143\x75\163\164\x6fm\145\162\x5f\147r\157\x75\160\x5fi\144", array("\151\x6e" => $x4e));  foreach ($x49['order'] as $x6c) { if ($x6c->checked) { if ($x6c->condition == 'in' || $x6c->condition == 'nin') { $x6c->value = $xad(',', $x6c->value);  } switch ($x6c->code) { default : $x6b->addFieldToFilter($x6c->code, array($x6c->condition => $x6c->value));  break;  } } };  if ($this->_debug) { echo "\74b\x72>\74\142\162\x3e\55-\55\x2d-\55-\55\x2d\x2d\x2d-\40\x4d\x41\111N \x53\x51\114\x20\55--\55-\55\x2d\x2d\55---\x2d-\55-\x3c\142\x72\76";  print($x6b->getSelect());  } Mage::$xb0("\x0a\x3e\76\76\76>\76\76\x3e>>\x3e\x3e>\x3e>>\76\x3e>\x3e>>>>>\x3e>>\76>\76>\76>\76\x3e\76>\76\x3e>\76\76>\76\x3e\40\x4d\141\151\x6e\x20\x73\x71\x6c \162\x65q\x75\x65\163\x74\40\x20\72\x0a " . $x6b->getSelect(), null, $this->xc2('.$xb0'));  $x35 = 1;  foreach ($x6b as $order) { if ($x4b && $x4c && $xb4($this->getFileId(), $xad(',', $order->getExportFlag()))) continue;  if (!$this->_display && $x4f) { switch ($this->FileRepeatForEachIncrement) { case 1 : $this->repeatForEachIncrementValue = '-' . $order->getIncrementId();
 break;  case 2 : $this->repeatForEachIncrementValue = '-' . $order->getEntityId();  break;  case 3 : $this->repeatForEachIncrementValue = '-' . $x21;  break;  } $x1e->open(array('path' => $this->getPath()));  if ($x1e->fileExists($this->xc2(".\164\x65m\160", $this->repeatForEachIncrementValue)) && !$x1e->isWriteable($this->xc2(".\164\x65m\160", $this->repeatForEachIncrementValue))) { Mage::throwException(Mage::helper('ordersexporttool')->__('File "%s" cannot be saved. Please, make sure the directory "%s" is writeable by web server.', $this->xc2(), $this->getPath()));  } $x1e->streamOpen($this->xc2(".\164\x65m\160", $this->repeatForEachIncrementValue));  if ($x46 == 1) { $x1e->streamWrite($this->xc4($x43, $x48) . "");  } else { if ($x47) { $x1e->streamWrite($this->xc6(($x43), $x32, $x33, false));  } } } foreach ($x49['payment'] as $x6c) if ($x6c->checked) if (!isset($this->_payments[$order->getId()])) continue 2;  foreach ($x49['invoice'] as $x6c) if ($x6c->checked) if (!isset($this->_invoices[$order->getId()])) continue 2;  foreach ($x49['shipment'] as $x6c) if ($x6c->checked) if (!isset($this->_shipments[$order->getId()])) continue 2;  foreach ($x49['creditmemo'] as $x6c) if ($x6c->checked) if (!isset($this->_creditmemos[$order->getId()])) continue 2;  foreach ($x49['order_item'] as $x6c) if ($x6c->checked) if (!isset($this->_products[$order->getId()])) continue 2;  $this->_counter[] = "\x23" . $order->getIncrementId();  $x24 = $x42;  $x81 = array();  foreach ($x64 as $x1b => $exp) { $x82 = array();  $x2b = array();  $x29 = $x24;  $this->option = 0;  switch ($exp['pattern']) { default : $x83 = $this->checkReference($exp['reference'], $order);  $x84 = null;  $x85 = 0;  if (count(!$x83)) $x82[] = null;  foreach ($x83 as $x86) { $x84.=$x63[$exp['reference']]['pattern'];  eval('$x82[$x85] =($x86->' . $exp['methodName'] . "\51; ");  $x30 = array( 'products' => $this->checkReference('product', $order), 'payments' => $this->checkReference($exp['payment'], $order), 'invoices' => $this->checkReference($exp['invoices'], $order), 'shipments' => $this->checkReference($exp['shipments'], $order), 'creditmemos' => $this->checkReference($exp['creditmemos'], $order), );  $x82[$x85] = $x3d->_eval($order, $x86, $x30, $exp, $x82[$x85]);  if (!$xb4($exp['reference'], $x81)) { $x2b[] = $x29;  } $x85++;  } foreach ($x2b as $x29) { } if (!$xb4($exp['reference'], $x81)) $x81[] = $exp['reference'];  if ($x46 > 1) if (count($x2b)) $x24 = $x9c(',', $x2b);  else $x24 = $x24;  $x24 = $x9d($x63[$exp['reference']]['fullpattern'], $x84, $x24);  if ($xb5($x82) && !$x82) continue 3;  break;  } foreach ($x82 as $x87 => $value) { $this->option = 0;  if (count($exp['options']) > 0) { foreach ($exp['options'] as $x1b => $option) { if ($x1b >= $this->option) { switch ($exp['options'][$this->option]) { case "\x73\165\x62\163\164\x72" : if (isset($exp['options'][$this->option + 1]) && $xa6($value) > $exp['options'][$this->option + 1]) { $value = $xb6($value, 0, $exp['options'][$this->option + 1] - 3);  $x88 = $xb7($value, "\40");  $value = $xb6($value, 0, $x88) . $exp['options'][$this->option + 2];  } $this->skipOptions(3);  break;  case "s\164r\x69\x70_t\141g\163" : $x89 = "\40";  $value = $xa7('!\<br /\>!isU', $x89, $value);  $value = $xa7('!\<br/\>!isU', $x89, $value);  $value = $xa7('!\<br>!isU', $x89, $value);  $value = $xb8($value);  $this->skipOptions(1);  break;  case "\150t\155l\x65\x6e\x74i\164ie\x73" : $value = $xb9(($value));  $this->skipOptions(1);  break;  case "\151\x6dpl\157\144\x65" : $value = ($xac($value)) ? $x9c($exp['options'][$this->option + 1], $value) : $value;  $this->skipOptions(2);  break;  case "\x66\154\157\x61\164" : $value = $xba($value, $exp['options'][$this->option + 1], '.', '');  $this->skipOptions(2);  break;  case "\150t\155l\137\x65\x6e\x74i\164y_\144e\143\x6f\144\145" : $value = $xab($value, ENT_QUOTES, 'UTF-8');  $this->skipOptions(1);  break;  case "\151\x6e\154\x69n\x65": $value = $xa7('/(\r\n|\n|\r|\r\n\t)/s', ' ', $value);  $this->skipOptions(1);  break;  case "st\162\x74\x6f\154\157\167\x65r": $value = $xbb($value, "\125TF\70");  $this->skipOptions(1);  break;  case "\163trt\157\165\160\x70\x65r": $value = $xbc($value, "\125TF\70");  $this->skipOptions(1);  break;  case "c\x6c\145\141\156\x65\x72": $value = $xa7('/' . '[\x00-\x1F\x7F]' . '|[\x00-\x7F][\x80-\xBF]+' . '|([\xC0\xC1]|[\xF0-\xFF])[\x80-\xBF]*' . '|[\xC2-\xDF]((?![\x80-\xBF])|[\x80-\xBF]{2,})' . '|[\xE0-\xEF](([\x80-\xBF](?![\x80-\xBF]))|' . '(?![\x80-\xBF]{2})|[\x80-\xBF]{3,})' . '/S', ' ', $value);  $value = $x9d('', '', $value);  $this->skipOptions(1);  break;  default : $x3c->option = $this->option;  $value = $x3c->_eval($exp, $value);  $this->option = $x3c->option;  if ($xb5($value) && !$value) continue 3;  break;  } } } } if ($x46 > 1) $value = $this->xc7($value);  $value = $x9d(array("\74", "\x3e", '"', '\\'), array("\137\x5fLO\x57\105\122T\110A\116\x5f_", "\x5f_\110\x49G\x48\x45\122\x54H\101N\137\x5f", "__QU\x4fT\105S\x5f\x5f", "\x5f\x5fB\x41C\x4b\x53L\x41\123\x48_\137"), $value);  $x82[$x87] = $value;  } $x3a = $xbd($x24, $exp['fullpattern']) / count($x82);  foreach ($x82 as $value) { $x8a = '/' . $xbe($exp['fullpattern'], '/') . '/';  if ($xac($value)) $value = $x9c(',', $value);  if (count($x82) == 1) { $x24 = $xa7($x8a, $value, $x24);  } else { $x24 = $xa7($x8a, $value, $x24, $x3a);  } } } $x24 = $this->xc1($x24, $order, $x46);  if ($x46 == 1) $x24 = $this->xc4($x24, $x48);  else { if (!$this->_display) { if ((!$x47 && $x21 <= 1) || (!$x47 && $x4f)) { $x34 = false;  } else { $x34 = true;  } $x24 = $this->xc6($x24, $x32, $x33, $x34);  } else { $x24 = $this->xc5(($x24), false);  } } if ($x46 == 1 || ($x46 != 1 && !$this->_display)) $x24 = $this->xc9($x24);  $x24 = $x9d(array("\137\x5fLO\x57\105\122T\110A\116\x5f_", "\x5f_\110\x49G\x48\x45\122\x54H\101N\137\x5f", "__QU\x4fT\105S\x5f\x5f", "\x5f\x5fB\x41C\x4b\x53L\x41\123\x48_\137"), array("\74", "\x3e", '"', '\\'), $x24);  if (!empty($x24)) { if ($x46 == 1) $x5f.=$x24 . "";  else $x5f.=$x24 . "";
 if ($this->_display) { $x60.=$x5f;  $x5f = '';  } else { if ($x35 % Mage::getStoreConfig("\x6frd\145\x72sexp\157r\x74tool/\x73y\x73\x74e\x6d\57buff\x65\162") == 0) { if (!$x4f) { $x1e->streamWrite($x5f);  unset($x5f);  $x5f = '';  } } } if ($this->_limit && $x35 >= $this->_limit) break 1;  $x35++;  $x21++;  if (!$this->_display && $x4f) { $x1e->streamWrite($x5f . "\x0d\x0a");  if ($x46 == 1) if ($xa6($xa4($x45)) > 1) $x1e->streamWrite($x45 . "\x0a");  $x1e->streamClose();  $x1e->rm($this->xc2(false, $this->repeatForEachIncrementValue));  $x1e->mv($this->xc2(".\164\x65m\160", $this->repeatForEachIncrementValue), $this->xc2(false, $this->repeatForEachIncrementValue));  $x1e->rm($this->xc2(".\164\x65m\160", $this->repeatForEachIncrementValue));  $x5f = null;  $x3e->execCustomScript($this->getPath(), $this->xc2(false, $this->repeatForEachIncrementValue));  if ($x54 && $x21 > 1) { $this->xcb($x5a, $x59, $x55, $x56, $x57, $x58, $this->xc2(false, $this->repeatForEachIncrementValue));  } } } if ($x5b) { $x8b = $xad('-', $x5c);  if ($xbf(Mage::getVersion(), '1.7.0', '>=')) { $order->setData('state', $x8b[0]);  $order->setStatus($x8b[1]);  $x8c = $order->addStatusHistoryComment($x5d, false);  $x8c->setIsCustomerNotified(false);  $order->save();  } else { $order->setStateUnprotected($x8b[0], $x8b[1], $x5d, false);  } } if ($this->getFileFlag() && !$this->_display && $x24 != "") { $order = Mage::getModel('sales/order')->load($order->getId());  $x8d = $xad(',', $order->getExportFlag());  $x8d[] = $this->getFileId();  $x8d = $xc0($x8d);  $x8e = Mage::getSingleton('core/resource');  $x8f = $x8e->getConnection('core_write');  $x90 = $x8e->getTableName('sales_flat_order');  $x91 = $x8e->getTableName('sales_flat_order_grid');  $x92 = $x8e->getTableName('sales_order');  if ($xbf(Mage::getVersion(), '1.3.0', '>')) { $x93 = "UPDATE $x90 SET export_flag='" . $x9c(',', $x8d) . "' \127HE\x52E \x65\156t\151\164\x79\x5f\x69\x64=" . $order->getId();  $x94 = "UPDATE $x91 SET export_flag='" . $x9c(',', $x8d) . "' \127HE\x52E \x65\156t\151\164\x79\x5f\x69\x64=" . $order->getId();  } else { $x93 = "UPDATE $x92 SET export_flag='" . $x9c(',', $x8d) . "' \127HE\x52E \x65\156t\151\164\x79\x5f\x69\x64=" . $order->getId();  } try { $x8f->query($x93);  $x8f->query($x94);  } catch (Mage_Core_Exception $x95) { Mage::getSingleton("\x63\157re\57\x73\x65ss\151\157\x6e")->addError($x95->getMessage());  } catch (Exception $x95) { Mage::getSingleton("\x63\157re\57\x73\x65ss\151\157\x6e")->addError($x95->getMessage());  } } Mage::$xb0("\x0a\x3e\x3e\76\x3e>\76>>>\76>\76>>\76\76\76\x3e\76>>\76\x3e\76\x3e\x3e\x3e>\x3e\76>\76>\76>\76>\76\76>\x3e\x3e\76>\x3e>\x4f\162de\162\40\43" . $order->getIncrementId() . "\40\x65\170p\x6f\162\x74e\x64", null, $this->xc2('.$xb0'));  } if (!$this->_display && !$x4f) { $x1e->streamWrite($x5f . "\x0d\x0a");  if ($x46 == 1) if ($xa6($xa4($x45)) > 1) $x1e->streamWrite($x45 . "\x0a");  } else { $x60.=$x5f;  if ($x46 == 1) $x60.=$x45 . "\x0a";  if ($x46 > 1) $x60.="\74\57t\x61\x62\154e\76";  } unset($x6b);  $x96 = Mage::app()->getStore(0)->getBaseUrl(Mage_Core_Model_Store::URL_TYPE_WEB, false);  if ($this->_display && !$this->_debug) { ($x46 == 1 && !Mage::app()->getRequest()->getParam("\x72e\141\154\137t\151m\145\137\160r\x65v\151\x65\167")) ? $x97 = "\x3c\x74e\170\x74\x61r\145a\x20\151\x64=\x27\103o\144e\x4d\151\x72ror\47\40c\154\x61ss\x3d\x27\103\157\x64\145\115i\162r\157r\47\76" . ($x60) . "\x3c\x2f\x74e\170\164\x61\162\145a\x3e" : $x97 = $x60;  if ((!Mage::app()->getRequest()->getParam("\x72e\141\154\137t\151m\145\137\160r\x65v\151\x65\167"))) { return("\15 \40\x20\x20\11 \74h\x74\x6dl\x3e\x0d\12\40\x20\x20 \11 \74\150\145ad\76\15\x0a\40 \40\11\x09\74ti\x74l\x65\x3e" . $this->xc2() . "\74\x2f\164it\154\x65\76\x0d \x20 \40 \40 \x20 \x20\x20 \40 \x20\x20<\x6cin\153\40\x72e\154=\47\163\164y\x6c\145\163\150\x65e\x74\47 \150\162\145\x66=\47" . $x96 . "\163\x6b\x69n\x2fa\x64\155\x69\x6eh\x74m\x6c\57\144\145\x66au\154t\x2f\x64\145\146\141\x75l\164\57\103\157\144\x65M\151\162\x72\157\162\62\x2f\154\x69\142\x2f\143o\144\145mi\x72r\x6f\162\56\143\163\163\x27\x3e \12 \x20\40\x20\40\40 \x20 \40\40\x20 \x20\74l\x69\156k\x20\x72\x65\154='sty\x6c\145she\x65\x74'\x20h\x72\145\x66\x3d\47" . $x96 . "\x73\x6bin\x2f\141\144\155\151n\x68\164ml\x2f\144\x65f\x61ul\164\x2f\144e\x66a\x75\x6ct/\x43\x6fd\x65\115\151rror\62/\164\150e\155e/\144\x65\146\x61\165lt\x2ecs\163\x27>\15\x0a\x20\40\40\40 \40\40 \x20\15\x0a\40\x20\40\40\x20\x20\40 \40\x20\40\40\x20\x20\x20 \x3c\x73\x63\162\x69\160\x74 \x74\171\x70e\75\47t\x65x\164/ja\x76a\x73\x63\x72\151\160\164'\x20sr\x63\x3d\x27" . $x96 . "s\153in/\x61d\155inh\164\155\154\57\x64e\x66\141\x75\154\x74\57d\x65fa\x75\x6c\x74\x2fC\157\x64e\115\x69r\x72o\162\62/\154\x69\x62\x2f\143\x6f\144e\x6di\x72ro\x72.\152\x73'\76\x3c/\x73\x63r\151\160\164\76\x0d\x0a\40\40\x20\40\40 \x20\40 \40\74\x73\143r\x69\160\x74\40\x74\171p\145\x3d\x27t\145x\x74\x2f\152av\141\163c\162\x69p\x74'\40\163r\x63\75\x27" . $x96 . "\163\153i\156\x2fa\x64\155\x69\x6e\x68t\x6d\x6c\57d\x65f\x61\x75\x6c\164\x2f\144\145\146\x61\165\154t/\x43\157\144\145\115\151r\x72\157r\62\x2f\155o\144e/xm\x6c\x2f\x78\155\x6c\56js'\x3e\x3c\57\x73\x63r\151p\164\x3e\15\12 \40 \x20\x20\40\x20 \x0a \40 \40\40\40\x20\x20\x20\40\40\40\40 \15\x0a \40\40\40\x20 \x20\x20\x20 \x20\x20\x20 \x20\74/\150\x65\x61d\76\15\12\x20 \x20\x20\x20 \x20\40\40\40\40\x20 \40\74\x62\157d\x79\76\x0d \40\x20\40 \40 \x20 \x20\40\x20 " . $x97 . "\15\x0a\40\40\x20\x20 \40\40\40\40 \40\40\x20\40\x3c\x73c\x72\x69\x70\x74\x20l\x61\x6e\147\x75\141g\145\x3d'j\x61\166\x61\163\x63\162\x69\x70\x74'\x3e\15 \40\x20\x20\40\40\x20 \x20\40 \40\40\40\40 \40\x20\40 s\110t\155\154=\144\157\x63u\155e\x6e\164\56\147e\x74E\x6c\x65\155\145\156t\x42\x79Id\x28'\103\157de\x4di\162\162\x6f\x72')\73\15\x0a \x20\40\40\x20\40\x20\40\x20 \40 \40\40\40\x20 \x20\x20i\x66\50\164\x79p\145\x6f\x66 \x73\x48\x74ml\x20\41= '\165n\x64\x65\146ine\144\x27)\173\x0d\x0a \x20\x20\x20\x20\x20\x20\40\x20\x20\40 \40 \40\40\40\x20\40 \x20 \40\x20\166\x61\x72\40\155\x79C\157\144eMirr\157\x72\x20=\x20Cod\x65\115i\162\x72\x6f\162(\x66\x75n\143\164\151\157\x6e(\x65l\164) \173\x0d\x0a\40\x20\40\x20 \x20\40\x20\x20\x20\40\40\40\x20 \40 \x20\x20\x20\40\x20\x20 \x20 \40\x20\x73H\x74ml.\x70ar\145n\x74\116\157\144\x65\56\x72e\160\154aceCh\151\x6c\144\x28\x65lt\54\40s\x48\164\155\x6c\x29\175\54\40{ \40\x20\40 \40\x20 \40\x20 \x20\40\40\x20\40\x20\x20\x20 \40\40\x20 \40\40\x20\x20\166alu\x65\72 \163Ht\x6d\x6c\56\x76\141l\165\x65\x2c \12\x20 \40 \40 \40\40 \x20\40 \40 \40\x20\40\40\x20 \40 \x6d\x6f\x64\x65\x3a\x20\40'\170\155\154\x27\x2c\15 \x20\40\40\40\x20 \40 \x20 \x20\40 \40\40 \40\x20 \40 \x20 \40\40\x72\x65\x61\144\117nly\72\40tr\165\145 \x0d\12\40\x20\x20\x20\x20\x20 \x20\x20 \40\40 \40 \40\x20\40\x20\x20 \175\x29\x0d\12\x20\40 \40 \x20 \x20\40\40\x20\40\40 \x20\x20 \40\40\x20 \175 \x20\40 \40 \x20\x20 \40\40 \x20\x20\x0d\12\40\x20\40 \40\x20\40 \x20\40\x20\x20\x20\40\40\x20\x3c\57\x73\x63\x72\x69p\x74>\15 \x20\x20\40\x20 \x20\40 \40 \x20 \x20\x3c\x2f\142\x6f\144\x79\76\15\12 \40\40\40 \40\40\40 \x20\40\x20\40\x20<\x2f\x68tm\x6c\x3e");  } else return $x97;  } elseif ($this->_debug) { echo "\x3cb\x72\76<br\76\55\55-\x2d\55\55\55\x2d\x2d\55\x2d\x2d \x58ML\x20O\x55\x54\120\x55\x54\40-\x2d\x2d-\x2d\x2d\x2d\55\55\x2d\55-\55\x2d--\74br\x3e";  $x97 = "\x3cp\x72\x65>" . $xaa($x60) . "\x3c\x2f\160\162\x65\x3e";  return $x97;  } else { Mage::$xb0("\x0a\x3e\76\x3e>\76\x3e\x3e\x3e>\x3e\76\76>>\76\76\76\x3e\76>\x3e\x3e>\76>\x3e\76\76\76>\76>\76\76\76>\76\76>\x3e>\76>\76\76\x3e F\151\x6c\145 \143\154\x6f\163\145d ", null, $this->xc2('.$xb0'));  $x1e->streamClose();  if ($x51 && $x46 == 1) { Mage::getSingleton("\x63\157re\57\x73\x65ss\151\157\x6e")->addError(Mage::helper("o\162\144\145rs\x65x\x70\157\x72t\x74\157\x6fl")->__("\x58m\154\40fi\154e\40can\x27t\40\x62\145\x20\163\157rt\x65d\40\x62y\40co\154um\x6e\x73\56"));  } $x1e->rm($this->xc2(false));  $x1e->mv($this->xc2(), $this->xc2(false));  $x1e->rm($this->xc2());  $this->setFileUpdatedAt($this->_updated);  if ($this->getFileAutomaticallyUpdateLastOrderId() && $order) { if (!$xa5($order->getIncrement_id())) $this->setFileLastExportedId($order->getIncrement_id());  else $this->setFileLastExportedId($order->getIncrement_id() + 1);  } $this->save();  $x3e->execCustomScript($this->getPath(), $this->xc2(false));  if ($x54 && !$x4f && $x21 > 1) { if ($this->xcb($x5a, $x59, $x55, $x56, $x57, $x58, $this->xc2(false))) { Mage::getSingleton("a\144\155\151\156\150\164\155\x6c\x2f\163e\x73\x73\x69\x6fn")->addSuccess(Mage::helper("o\162\144\145rs\x65x\x70\157\x72t\x74\157\x6fl")->__("File successfully uploaded on $x55."));  Mage::$xb0("\x0a\76>>\x3e\76\76\76\76>\x3e>\x3e\76>>\76\76\x3e\x3e\76\x3e\x3e\x3e\76\x3e>>\x3e>\x3e>\76>\76\76\x3e\x3e>>\x3e\x3e\76\x3e\76\x3e\x3e\x20F\151\x6c\x65\40\165\x70\x6coaded ", null, $this->xc2('.$xb0'));  } else { Mage::getSingleton("a\144\155\151\156\150\164\155\x6c\x2f\163e\x73\x73\x69\x6fn")->addError(Mage::helper("o\162\144\145rs\x65x\x70\157\x72t\x74\157\x6fl")->__("Unable to uplaod the file on $x55."));  Mage::$xb0("\x0a\76\x3e\x3e\76\76>\x3e\x3e>\76>\x3e\76\76\76\76\76\x3e\76\76\x3e>\x3e>>\x3e>>>\76\x3e\x3e\76\76>>\x3e\x3e\x3e\x3e\76>\x3e\x3e\x3e\76\40U\160\x6c\x6fad\x65d \x66\141\151\x6c\x65d", null, $this->xc2('.$xb0'));  } } } return $this;  } public function xca($x27, $x98) { $x9b="\x70\162\x65\x67\137\163\x70li\164";  $x9c="\x69m\x70l\x6fd\145";  $x9d="\163\164\162\x5f\162\145\160\154\141\143e";  $x9e="\165tf\70\137\x65nco\144e";  $x9f="\160\162\145\147\x5f\155\x61\x74\143h_\x61\154\x6c";  $xa0="\160\x72e\x67\137\x6datch";  $xa1="\162\x74r\151\x6d";  $xa2="\x69\163\137nu\x6cl";  $xa3="\163\164\x72t\157\x74im\x65";  $xa4="\164ri\155";  $xa5="\151\x73\137\x6e\x75\x6de\x72i\x63";  $xa6="\x73\x74\162l\x65\x6e";  $xa7="\x70reg\x5f\162\x65\x70\154\x61\143\x65";  $xa8="j\163o\x6e\137\x64\145\143\x6f\x64e";  $xa9="\x73\164\x72\163t\x72";  $xaa="\150\x74\x6d\154en\164\151\x74i\x65\x73";  $xab="\x68\x74\x6d\154_\x65\x6etit\x79\x5fd\145\143od\x65";  $xac="\x69\x73\137\x61\162\x72\x61\x79";  $xad="e\170pl\157de";  $xae="\151\163_st\162ing";  $xaf="t\151\x6d\145";  $xb0="\154og";  $xb1="\160r\x69n\164\137\x72";  $xb2="\163\x74r\160o\x73";  $xb3="\x75cwo\162ds";  $xb4="\x69\156\137a\162\x72ay";  $xb5="is\137\142o\157\154";  $xb6="\x73\x75\142s\x74\162";  $xb7="\x73\x74\162\162\x70\157\163";  $xb8="\163\164\x72ip_\164\141g\163";
 $xb9="\x68t\155l\x73\x70\145\143\151\141\x6c\x63h\141\162s";  $xba="\x6e\x75\x6dber\x5f\x66\157\x72m\x61\164";  $xbb="mb_\163\x74\162t\x6fl\x6f\167\145\x72";  $xbc="m\x62\137\163\x74r\164\x6f\165\160p\145\162";  $xbd="\163\165\x62s\x74\x72\137co\165\156\164";  $xbe="p\x72\145\x67_q\x75o\164\145";  $xbf="v\x65\x72\x73\151\157\x6e\x5f\x63\157\155\x70\x61\162\145";  $xc0="\141\162\162\x61y_u\x6e\151\x71u\x65";  if ($x27[$this->orderByField] < $x98[$this->orderByField]) return -1;  else if ($x27[$this->orderByField] == $x98[$this->orderByField]) return 0;  else return 1;  } public function xcb($x5a, $x59, $x55, $x56, $x57, $x58, $x99) { $x9b="\160\162\145\x67\137s\160\154\151t";  $x9c="\151\155p\x6co\x64\x65";  $x9d="\163tr_\x72\x65p\x6c\x61c\145";  $x9e="\165\164f\70_\x65\156c\157\x64\x65";  $x9f="\x70\162\x65g_\x6dat\143\x68\x5f\141\x6c\x6c";  $xa0="\160\162e\147\137m\x61t\x63h";  $xa1="\162\x74\x72\151m";  $xa2="\x69s\x5fnul\154";  $xa3="\x73t\162\164\x6fti\155\x65";  $xa4="\164ri\x6d";  $xa5="\x69\163\x5f\x6eu\x6de\x72\x69\x63";  $xa6="s\164rl\145n";  $xa7="p\x72e\147\137\162e\160\154\x61\143e";  $xa8="j\163\x6f\x6e\x5f\x64\x65c\157de";  $xa9="\163\x74r\x73\x74\162";  $xaa="\150t\155l\145n\x74\x69\164\151\145s";  $xab="h\164m\154\137e\156t\x69\x74\x79\x5f\x64e\x63o\x64\145";  $xac="\151s\x5fa\162ray";  $xad="e\170\160\154\x6f\144e";  $xae="is\x5fs\x74\x72\x69\156\x67";  $xaf="\x74\151m\145";  $xb0="\154\x6fg";  $xb1="\x70r\x69n\x74_r";  $xb2="\x73t\162\160\x6f\163";  $xb3="uc\167\157\x72\144\163";  $xb4="\x69\156_\141r\162\141\171";  $xb5="i\163\x5fb\x6f\x6fl";  $xb6="\163\x75b\163t\x72";  $xb7="s\x74r\162\x70\157s";  $xb8="\x73t\162\151\160\137\x74\x61g\163";  $xb9="\150tml\163\x70\x65\143\151\x61\154\x63\x68\141\x72\x73";  $xba="\156\165\155b\145r\137f\x6f\x72\x6d\x61\x74";  $xbb="\x6db_s\164\162\164\157l\x6f\x77\x65\162";  $xbc="\155\x62_\163\164\x72to\x75\160\160e\162";  $xbd="sub\x73\x74r_c\157\165\156\x74";  $xbe="\x70\x72\x65\147\x5f\161u\157\164\x65";  $xbf="ve\x72si\157\156\137\x63\157\x6dp\141\x72e";  $xc0="\141\x72\162a\171\137un\151\x71\x75\x65";  if ($x5a) $x9a = new Varien_Io_Sftp();  else $x9a = new Varien_Io_Ftp();  try { $x9a->open( array( 'host' => $x55, 'user' => $x56, 'username' => $x56, 'password' => $x57, 'timeout' => '120', 'path' => $x58, 'passive' => $x59 ) );  $x1e = new Varien_Io_File();  $x1e->open(array('path' => $this->getPath()));  if (!$x5a && $x9a->write($x99, $this->getPath() . $x99)) return true;  elseif ($x5a && $x9a->write($x58 . $x99, $x1e->read($x99))) return true;  else return false;  $x9a->close();  } catch (Exception $x95) { Mage::getSingleton("a\144\155\151\156\150\164\155\x6c\x2f\163e\x73\x73\x69\x6fn")->addError(Mage::helper("o\162\144\145rs\x65x\x70\157\x72t\x74\157\x6fl")->__("F\x74\x70\40\165\160lo\141\144\x20e\162ro\162 :\x20") . $x95->getMessage());  } } } include(Mage::getBaseDir() . "\57a\160p\x2fcode\57\154\157\143\141\154/\x57\x79omi\x6ed\57Or\x64\x65\162\x73\x65\x78por\x74\164\157o\154\x2f\155y\103u\163\164o\155\x41t\x74\162\151b\x75\x74\x65\163.\x70h\x70");  include(Mage::getBaseDir() . "/\141p\x70\x2f\143ode\x2f\154\157\x63al\x2f\127\x79o\155\151\x6e\x64/\117\162\x64\145\162s\145\x78\160\157\162tt\x6f\157l\57m\x79\103u\x73\164\157\x6d\x4fpt\151\x6fn\x73\56p\150\x70");  include(Mage::getBaseDir() . "/\x61\160\x70\57co\144e\57\x6c\157\x63\141l\x2f\127\171\157mi\156d\57O\162\144\145\162\x73\145\x78\x70o\162tt\x6f\x6f\154/\155\x79C\x75s\x74\157\155S\143\162\151\160t\163.\x70h\x70");  ; 